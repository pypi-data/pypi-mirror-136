(self.webpackChunkjupyterlab_js_logs=self.webpackChunkjupyterlab_js_logs||[]).push([[609],{609:(e,o,l)=>{"use strict";l.r(o),l.d(o,{CommandIDs:()=>n,default:()=>v});var n,t=l(112),a=l(538),s=l(38),r=l(736),d=l(439),i=l(797),c=l(271),g=l.n(c);class u extends a.ReactWidget{constructor(e){super(),this.handleChange=e=>{this._logConsole.logger&&(this._logConsole.logger.level=e.target.value),this.update()},this.handleKeyDown=e=>{13===e.keyCode&&this._logConsole.activate()},this._id=`level-${i.UUID.uuid4()}`,this.addClass("jp-LogConsole-toolbarLogLevel"),this._logConsole=e,this._logConsole.logger.level="debug",e.source&&this.update(),e.sourceChanged.connect(this._updateSource,this)}_updateSource(e,{oldValue:o,newValue:l}){null!==o&&e.loggerRegistry.getLogger(o).stateChanged.disconnect(this.update,this),null!==l&&e.loggerRegistry.getLogger(l).stateChanged.connect(this.update,this),this.update()}render(){const e=this._logConsole.logger;return g().createElement(g().Fragment,null,g().createElement("label",{htmlFor:this._id,className:null===e?"jp-LogConsole-toolbarLogLevel-disabled":void 0},"Log Level:"),g().createElement(d.HTMLSelect,{id:this._id,className:"jp-LogConsole-toolbarLogLevelDropdown",onChange:this.handleChange,onKeyDown:this.handleKeyDown,value:null==e?void 0:e.level,"aria-label":"Log level",disabled:null===e,options:null===e?[]:["Critical","Error","Warning","Info","Debug"].map((e=>({label:e,value:e.toLowerCase()})))}))}}!function(e){e.checkpoint="js-logs:checkpoint",e.clear="js-logs:clear",e.level="js-logs:level",e.open="js-logs:open"}(n||(n={}));const v={id:"js-logs",autoStart:!0,requires:[r.IRenderMimeRegistry],optional:[a.ICommandPalette,t.ILayoutRestorer],activate:(e,o,l,t)=>{const{commands:r}=e;let i=null,c=null;const g=new a.WidgetTracker({namespace:"jupyterlab-js-logs"}),v=new d.LabIcon({name:"js-logs:js-icon",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 630 630">\n<rect width="630" height="630" fill="#f7df1e"/>\n<path d="m423.2 492.19c12.69 20.72 29.2 35.95 58.4 35.95 24.53 0 40.2-12.26 40.2-29.2 0-20.3-16.1-27.49-43.1-39.3l-14.8-6.35c-42.72-18.2-71.1-41-71.1-89.2 0-44.4 33.83-78.2 86.7-78.2 37.64 0 64.7 13.1 84.2 47.4l-46.1 29.6c-10.15-18.2-21.1-25.37-38.1-25.37-17.34 0-28.33 11-28.33 25.37 0 17.76 11 24.95 36.4 35.95l14.8 6.34c50.3 21.57 78.7 43.56 78.7 93 0 53.3-41.87 82.5-98.1 82.5-54.98 0-90.5-26.2-107.88-60.54zm-209.13 5.13c9.3 16.5 17.76 30.45 38.1 30.45 19.45 0 31.72-7.61 31.72-37.2v-201.3h59.2v202.1c0 61.3-35.94 89.2-88.4 89.2-47.4 0-74.85-24.53-88.81-54.075z"/>\n</svg>'});r.addCommand(n.checkpoint,{execute:()=>{var e;return null===(e=null==i?void 0:i.logger)||void 0===e?void 0:e.checkpoint()},icon:d.addIcon,isEnabled:()=>null!==(null==i?void 0:i.source),label:"Add Checkpoint"}),r.addCommand(n.clear,{execute:()=>{var e;return null===(e=null==i?void 0:i.logger)||void 0===e?void 0:e.clear()},icon:d.clearIcon,isEnabled:()=>null!==(null==i?void 0:i.source),label:"Clear Log"}),r.addCommand(n.level,{execute:e=>{(null==i?void 0:i.logger)&&(i.logger.level=e.level)},isEnabled:()=>null!==(null==i?void 0:i.source),label:e=>`Set Log Level to ${e.level}`}),r.addCommand(n.open,{label:"Show Dev Tools Console Logs",caption:"Show Dev Tools Console Logs",isToggled:()=>null!==c,execute:()=>{c?c.dispose():(i=new s.LogConsolePanel(new s.LoggerRegistry({defaultRendermime:o,maxLength:1e3})),i.source="js-logs",c=new a.MainAreaWidget({content:i}),c.addClass("jp-LogConsole"),c.title.label="Dev Tools Console Logs",c.title.icon=v,c.toolbar.addItem("checkpoint",new a.CommandToolbarButton({commands:r,id:n.checkpoint})),c.toolbar.addItem("clear",new a.CommandToolbarButton({commands:r,id:n.clear})),c.toolbar.addItem("level",new u(c.content)),c.disposed.connect((()=>{c=null,i=null,r.notifyCommandChanged()})),e.shell.add(c,"main",{mode:"split-bottom"}),g.add(c),c.update(),r.notifyCommandChanged())}}),window.onerror=(e,o,l,n,t)=>{var a;return null===(a=null==i?void 0:i.logger)||void 0===a||a.log({type:"text",level:"critical",data:`${o}:${l} ${e}\n${t}`}),!1};const h=console.debug,p=console.log,m=console.info,w=console.warn,b=console.error,C=console.exception,y=console.trace,L=console.table;let f=[];const j=(e,o)=>{if("object"==typeof o&&null!==o){if(-1!==f.indexOf(o))return;f.push(o)}return o},x=e=>{let o="";return e.forEach((e=>{try{o+=("object"==typeof e&&null!==e?JSON.stringify(e):e)+" "}catch(l){try{const l="This error contains a object with a circular reference. Duplicated attributes might have been dropped during the process of removing the reference.\n",n=JSON.stringify(e,j);f=[],console.error(l,n),o+=n}catch(e){o+=" "}}})),o};window.console.debug=(...e)=>{var o;null===(o=null==i?void 0:i.logger)||void 0===o||o.log({type:"text",level:"debug",data:x(e)}),h(...e)},window.console.log=(...e)=>{var o;null===(o=null==i?void 0:i.logger)||void 0===o||o.log({type:"text",level:"debug",data:x(e)}),p(...e)},window.console.info=(...e)=>{var o;null===(o=null==i?void 0:i.logger)||void 0===o||o.log({type:"text",level:"info",data:x(e)}),m(...e)},window.console.warn=(...e)=>{var o;null===(o=null==i?void 0:i.logger)||void 0===o||o.log({type:"text",level:"warning",data:x(e)}),w(...e)},window.console.error=(...e)=>{var o;null===(o=null==i?void 0:i.logger)||void 0===o||o.log({type:"text",level:"critical",data:x(e)}),b(...e)},window.console.exception=(e,...o)=>{var l;null===(l=null==i?void 0:i.logger)||void 0===l||l.log({type:"text",level:"critical",data:`Exception: ${e}\n${x(o)}`}),C(...o)},window.console.trace=(...e)=>{var o;null===(o=null==i?void 0:i.logger)||void 0===o||o.log({type:"text",level:"info",data:x(e)}),y(...e)},window.console.table=(...e)=>{var o;null===(o=null==i?void 0:i.logger)||void 0===o||o.log({type:"text",level:"info",data:x(e)}),L(...e)},l&&l.addItem({command:n.open,category:"Developer"}),t&&t.restore(g,{command:n.open,name:()=>"js-logs"})}}}}]);
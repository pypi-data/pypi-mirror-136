"use strict";(self["webpackChunknonebot_plugin_gocqhttp_frontend"]=self["webpackChunknonebot_plugin_gocqhttp_frontend"]||[]).push([[193],{8193:(e,l,o)=>{o.r(l),o.d(l,{default:()=>A});var t=o(3673),a=o(2323),s=o(1768),u=o(1959),d=o(8825),i=function(e,l,o,t){function a(e){return e instanceof o?e:new o((function(l){l(e)}))}return new(o||(o=Promise))((function(o,s){function u(e){try{i(t.next(e))}catch(l){s(l)}}function d(e){try{i(t["throw"](e))}catch(l){s(l)}}function i(e){e.done?o(e.value):a(e.value).then(u,d)}i((t=t.apply(e,l||[])).next())}))};const n=(0,t._)("div",{class:"text-h5 q-pa-md"},"系统状态",-1),r={class:"text-center col-4"},v=(0,t._)("div",{class:"text-body1 q-mr-sm"},"CPU",-1),c={class:"text-body2"},m={class:"text-body2"},p={class:"text-center col-4"},w=(0,t._)("div",{class:"text-body1"},"内存",-1),_={class:"text-body2"},y={class:"text-body2"},f={class:"text-body2"},h={class:"col-12 col-sm-4"},g=(0,t._)("div",{class:"text-body1"},"硬盘占用",-1),b={class:"absolute-full flex flex-center"},x={class:"text-body2 text-grey q-pt-sm"},q=(0,t._)("div",{class:"text-body1 q-pb-sm"},"开机时间",-1),z={class:"text-body2"},k=(0,t._)("div",{class:"text-body1 q-pb-sm"},"主进程启动时间",-1),W={class:"text-body2"},B=(0,t.Uk)("数据更新间隔"),Z=(0,t.aZ)({setup(e){const l=(0,d.Z)(),o=(0,u.iH)(),Z=(0,u.iH)(3e3);function Q(e,l=2){if(0===e)return"0 Bytes";const o=1024,t=l<0?0:l,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(o));return(e/Math.pow(o,s)).toFixed(t)+a[s]}let C;function S(){return i(this,void 0,void 0,(function*(){try{l.loadingBar.start();const{data:e}=yield s.api.systemStatusApiStatusGet();o.value=e}finally{l.loadingBar.stop(),C=window.setTimeout((()=>{S()}),Z.value)}}))}return(0,t.Jd)((()=>{window.clearTimeout(C)})),S(),(e,l)=>{const s=(0,t.up)("q-icon"),u=(0,t.up)("q-circular-progress"),d=(0,t.up)("q-badge"),i=(0,t.up)("q-linear-progress"),C=(0,t.up)("q-separator"),S=(0,t.up)("q-card-section"),P=(0,t.up)("q-chip"),M=(0,t.up)("q-slider"),U=(0,t.up)("q-card"),j=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(j,{class:"row items-center justify-evenly q-pa-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{class:"shadow window-width q-pa-sm"},{default:(0,t.w5)((()=>[n,(0,t.Wm)(S,{class:"row justify-evenly"},{default:(0,t.w5)((()=>{var e,l,n,B,Z,S,P,M,U,j,L,T,V,D,G,H,A,E,F,I,J;return[(0,t._)("div",r,[(0,t.Wm)(u,{value:null===(e=o.value)||void 0===e?void 0:e.cpu_percent,thickness:.2,size:"16vh","show-value":"",color:"green","track-color":"grey-3",class:"q-ma-sm"},{default:(0,t.w5)((()=>{var e;return[(0,t.Wm)(u,{value:null===(e=o.value)||void 0===e?void 0:e.process.cpu_percent,"show-value":"",size:"15vh",color:"purple","track-color":"grey-4"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{name:"developer_board",size:"md"})])),_:1},8,["value"])]})),_:1},8,["value","thickness"]),v,(0,t._)("div",c,"总计 "+(0,a.zw)(null===(l=o.value)||void 0===l?void 0:l.cpu_percent)+"%",1),(0,t._)("div",m," 主进程 "+(0,a.zw)(null===(n=o.value)||void 0===n?void 0:n.process.cpu_percent)+"% ",1)]),(0,t._)("div",p,[(0,t.Wm)(u,{value:null===(B=o.value)||void 0===B?void 0:B.memory.percent,size:"15vh","show-value":"",color:"blue","track-color":"grey-3",class:"q-ma-sm"},{default:(0,t.w5)((()=>{var e,l,a,d;return[(0,t.Wm)(u,{value:(null!==(l=null===(e=o.value)||void 0===e?void 0:e.process.memory_used)&&void 0!==l?l:0)/(null!==(d=null===(a=o.value)||void 0===a?void 0:a.memory.total)&&void 0!==d?d:0),"show-value":"",size:"14vh",color:"purple","track-color":"grey-4"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{name:"memory",size:"md"})])),_:1},8,["value"])]})),_:1},8,["value"]),w,(0,t._)("div",_,(0,a.zw)(null===(Z=o.value)||void 0===Z?void 0:Z.memory.percent)+"%",1),(0,t._)("div",y,(0,a.zw)(Q(null!==(P=null===(S=o.value)||void 0===S?void 0:S.memory.available)&&void 0!==P?P:0)+"/"+Q(null!==(U=null===(M=o.value)||void 0===M?void 0:M.memory.total)&&void 0!==U?U:0)),1),(0,t._)("div",f," 主进程 "+(0,a.zw)(Q(null!==(L=null===(j=o.value)||void 0===j?void 0:j.process.memory_used)&&void 0!==L?L:0)),1)]),(0,t._)("div",h,[g,(0,t.Wm)(i,{value:(null!==(V=null===(T=o.value)||void 0===T?void 0:T.disk.percent)&&void 0!==V?V:0)/100,stripe:"",rounded:"",size:"20px",color:"orange",class:"q-mt-sm"},{default:(0,t.w5)((()=>[(0,t._)("div",b,[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>{var e;return[(0,t.Uk)((0,a.zw)(null===(e=o.value)||void 0===e?void 0:e.disk.percent)+"%",1)]})),_:1})])])),_:1},8,["value"]),(0,t._)("div",x,(0,a.zw)(Q(null!==(G=null===(D=o.value)||void 0===D?void 0:D.disk.free)&&void 0!==G?G:0))+"/ "+(0,a.zw)(Q(null!==(A=null===(H=o.value)||void 0===H?void 0:H.disk.total)&&void 0!==A?A:0)),1),(0,t.Wm)(C,{spaced:""}),q,(0,t._)("div",z,(0,a.zw)(new Date(1e3*(null!==(F=null===(E=o.value)||void 0===E?void 0:E.boot_time)&&void 0!==F?F:0)).toLocaleString()),1),(0,t.Wm)(C,{spaced:""}),k,(0,t._)("div",W,(0,a.zw)(new Date(1e3*(null!==(J=null===(I=o.value)||void 0===I?void 0:I.process.start_time)&&void 0!==J?J:0)).toLocaleString()),1)])]})),_:1}),(0,t.Wm)(C,{spaced:""}),(0,t.Wm)(S,{class:"row justify-end items-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(P,{icon:"refresh"},{default:(0,t.w5)((()=>[B])),_:1}),(0,t.Wm)(M,{class:"col-8 col-sm-4",modelValue:Z.value,"onUpdate:modelValue":l[0]||(l[0]=e=>Z.value=e),snap:"",min:500,max:1e4,step:100},null,8,["modelValue"]),(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,a.zw)(Z.value)+"ms",1)])),_:1})])),_:1})])),_:1})])),_:1})}}});var Q=o(4379),C=o(151),S=o(5589),P=o(6122),M=o(4554),U=o(1598),j=o(9721),L=o(5869),T=o(7030),V=o(2064),D=o(7518),G=o.n(D);const H=Z,A=H;G()(Z,"components",{QPage:Q.Z,QCard:C.Z,QCardSection:S.Z,QCircularProgress:P.Z,QIcon:M.Z,QLinearProgress:U.Z,QBadge:j.Z,QSeparator:L.Z,QChip:T.Z,QSlider:V.Z})}}]);
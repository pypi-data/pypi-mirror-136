"use strict";(self["webpackChunknonebot_plugin_gocqhttp_frontend"]=self["webpackChunknonebot_plugin_gocqhttp_frontend"]||[]).push([[385],{6385:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Y});var o=n(3673),a=n(2323);const l=(0,o.Uk)("添加帐号 "),u=(0,o.Uk)("刷新列表 ");function i(t,e,n,i,r,c){const s=(0,o.up)("q-icon"),d=(0,o.up)("q-btn"),p=(0,o.up)("q-item-section"),m=(0,o.up)("q-item"),f=(0,o.up)("q-separator"),h=(0,o.up)("q-img"),w=(0,o.up)("q-avatar"),g=(0,o.up)("q-inner-loading"),q=(0,o.up)("q-list");return(0,o.wg)(),(0,o.j4)(q,{bordered:""},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{flat:"",color:"primary",to:"/accounts/add"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{name:"add"}),l])),_:1})])),_:1}),(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{flat:"",onClick:t.getAccounts},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{name:"refresh"}),u])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,o.Wm)(f),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.accounts,(e=>((0,o.wg)(),(0,o.j4)(m,{clickable:"",key:e,to:`/accounts/${e}`},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,{src:`https://q1.qlogo.cn/g?b=qq&nk=${e}&s=640`},null,8,["src"])])),_:2},1024)])),_:2},1024),(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e),1)])),_:2},1024),(0,o.Wm)(p,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{flat:"",color:"grey",icon:"delete",onClick:n=>t.deleteAccount(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["to"])))),128)),(0,o.Wm)(g,{showing:t.loading},null,8,["showing"])])),_:1})}var r=function(t,e,n,o){function a(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,l){function u(t){try{r(o.next(t))}catch(e){l(e)}}function i(t){try{r(o["throw"](t))}catch(e){l(e)}}function r(t){t.done?n(t.value):a(t.value).then(u,i)}r((o=o.apply(t,e||[])).next())}))};const c=(0,o.aZ)({data:()=>({accounts:[],updateTimer:null,loading:!1}),methods:{deleteAccount(t){return r(this,void 0,void 0,(function*(){const e=yield new Promise((t=>{this.$q.dialog({title:"确认删除",message:"确认删除该帐号？",ok:"确认",cancel:"取消",persistent:!0}).onOk((()=>t(!0))).onCancel((()=>t(!1)))}));if(e){yield this.$router.push("/");try{this.$q.loading.show(),yield this.$api.deleteAccountApiUinDelete(t)}catch(n){this.$q.notify({color:"negative",message:n.message})}finally{this.$q.loading.hide()}}}))},getAccounts(){return r(this,void 0,void 0,(function*(){try{this.loading=!0;const{data:t}=yield this.$api.allAccountsApiGet();this.accounts=t}finally{this.loading=!1}}))}},created(){this.getAccounts(),this.updateTimer=window.setInterval((()=>{this.getAccounts()}),1e4)},beforeUnmount(){this.updateTimer&&window.clearInterval(this.updateTimer)}});var s=n(4260),d=n(7011),p=n(3414),m=n(2035),f=n(8240),h=n(4554),w=n(5869),g=n(5096),q=n(4027),_=n(6941),W=n(7518),v=n.n(W);const b=(0,s.Z)(c,[["render",i]]),k=b;v()(c,"components",{QList:d.Z,QItem:p.Z,QItemSection:m.Z,QBtn:f.Z,QIcon:h.Z,QSeparator:w.Z,QAvatar:g.Z,QImg:q.Z,QInnerLoading:_.Z});var Z=n(1959);const Q=(0,o.Uk)(" NoneBot Plugin Go-CQHTTP "),y=(0,o._)("div",{class:"text-h6"},"关于",-1),C=(0,o.Uk)(" 本插件基于"),A=(0,o._)("a",{href:"https://github.com/Mrs4s/go-cqhttp"}," Mrs4s/go-cqhttp ",-1),U=(0,o.Uk)(" 以及"),$=(0,o._)("a",{href:"https://github.com/nonebot/nonebot2"}," nonebot/nonebot2 ",-1),I=(0,o.Uk)(" 进行开发 "),T=(0,o._)("br",null,null,-1),x=(0,o.Uk)(" 以"),L=(0,o._)("a",{href:"https://github.com/mnixry/nonebot-plugin-gocqhttp/blob/main/LICENSE"}," AGPL-3.0开源许可 ",-1),P=(0,o.Uk)("发布, 请在使用时遵守开源许可条款 "),H={class:"text-grey"},B=(0,o.Uk)(" 帐号选择 "),S=(0,o.aZ)({setup(t){const e=(0,Z.iH)(!0);function n(){e.value=!e.value}return(t,l)=>{const u=(0,o.up)("q-btn"),i=(0,o.up)("q-separator"),r=(0,o.up)("q-toolbar-title"),c=(0,o.up)("q-banner"),s=(0,o.up)("q-card"),d=(0,o.up)("q-popup-proxy"),p=(0,o.up)("q-toolbar"),m=(0,o.up)("q-header"),f=(0,o.up)("q-item-label"),h=(0,o.up)("q-list"),w=(0,o.up)("q-drawer"),g=(0,o.up)("router-view"),q=(0,o.up)("q-page-container"),_=(0,o.up)("q-layout");return(0,o.wg)(),(0,o.j4)(_,{view:"lHh Lpr lFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{elevated:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{flat:"",dense:"",round:"",icon:"menu",onClick:n}),(0,o.Wm)(i,{spaced:"",vertical:""}),(0,o.Wm)(u,{icon:"home",to:"/",flat:"",dense:"",round:""}),(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[Q])),_:1}),(0,o.Wm)(u,{icon:t.$q.dark.isActive?"dark_mode":"light_mode",onClick:t.$q.dark.toggle,flat:"",dense:"",round:""},null,8,["icon","onClick"]),(0,o.Wm)(i,{spaced:"",vertical:""}),(0,o.Wm)(u,{push:"",icon:"info",flat:"",dense:"",round:""},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{class:"shadow q-pa-md"},{default:(0,o.w5)((()=>[y,(0,o.Wm)(c,{class:"text-body1",outline:"grey"},{default:(0,o.w5)((()=>[C,A,U,$,I,T,x,L,P,(0,o.Wm)(i,{spaced:""}),(0,o._)("div",H," 前端界面由 Quasar v"+(0,a.zw)(t.$q.version)+" 强力驱动 ",1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(w,{modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value=t),"show-if-above":"",bordered:""},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{header:""},{default:(0,o.w5)((()=>[B])),_:1}),(0,o.Wm)(k)])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1})])),_:1})}}});var j=n(9214),D=n(3812),G=n(9570),V=n(3747),z=n(3944),E=n(151),M=n(5607),N=n(2901),F=n(2350),K=n(2652);const O=S,Y=O;v()(S,"components",{QLayout:j.Z,QHeader:D.Z,QToolbar:G.Z,QBtn:f.Z,QSeparator:w.Z,QToolbarTitle:V.Z,QPopupProxy:z.Z,QCard:E.Z,QBanner:M.Z,QDrawer:N.Z,QList:d.Z,QItemLabel:F.Z,QPageContainer:K.Z})}}]);
"use strict";(self.webpackChunkquilt_navigator=self.webpackChunkquilt_navigator||[]).push([[8657],{98657:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var r,a,l=n(70655),s=n(26470),u=n(66518),i=n.n(u),c=n(82539),o=n(30601),p=n(67294),f=n(5977),b=n(41120),m=n(10529),d=n(95477),h=n(78869),k=n(80679),v=n(43987),w=n(766),x=n(84268),y=n(69534),Z=n(82268),E=n(36473),g=n(15592),D=n(33125),C=n(25170),q=n(43141),S=n(73206),B=n(45677),F=n(21497),O=n(74708),$=b.Z((function(e){return{crumbs:(0,l.pi)((0,l.pi)({},e.typography.body1),{maxWidth:"100%",overflowWrap:"break-word"})}}));function I(e){var t=e.match.params,n=t.bucket,u=t.path,b=void 0===u?"":u,I=e.location,_=F.D(),N=w.D$().noDownload,P=$(),T=y.D$().urls,W=(0,f.k6)(),z=k.S3.use(),L=(0,Z.Z)(I.search).prefix,M=E.Jx(b),R=M?(0,s.basename)(M):n,Y=p.useMemo((function(){return[{label:"Python",hl:"python",contents:i()(r||(r=(0,l.cy)(['\n          import quilt3\n          b = quilt3.Bucket("s3://','")\n          # list files\n          b.ls("','")\n          # download\n          b.fetch("','", "./','")\n        '],['\n          import quilt3\n          b = quilt3.Bucket("s3://','")\n          # list files\n          b.ls("','")\n          # download\n          b.fetch("','", "./','")\n        '])),n,M,M,R)},{label:"CLI",hl:"bash",contents:i()(a||(a=(0,l.cy)(['\n          # list files\n          aws s3 ls "s3://',"/",'"\n          # download\n          aws s3 cp --recursive "s3://',"/",'" "./','"\n        '],['\n          # list files\n          aws s3 ls "s3://',"/",'"\n          # download\n          aws s3 cp --recursive "s3://',"/",'" "./','"\n        '])),n,M,n,M,R)}]}),[n,M,R]),j=p.useState(null),G=j[0],J=j[1];p.useLayoutEffect((function(){J(null)}),[M,L]);var A=(0,x.et)(B.rx,{s3:z,bucket:n,path:M,prefix:L,prev:G}),H=p.useCallback((function(){v.Z.case({Ok:function(e){e.continuationToken&&J(e)},_:function(){}},A.result)}),[A.result,J]),K=p.useCallback((function(e){W.push(T.bucketDir(n,M,e))}),[W,T,n,M]);return p.createElement(m.Z,{pt:2,pb:4},p.createElement(m.Z,{display:"flex",alignItems:"flex-start",mb:2},p.createElement("div",{className:P.crumbs,onCopy:h.Yn},(0,h.sY)((0,O.Z)({bucket:n,path:M,urls:T,scope:_.scope}))),p.createElement(m.Z,{flexGrow:1}),!N&&p.createElement(D.dN,{suffix:"dir/"+n+"/"+M,label:"Download directory",newTab:!0})),!_.hideCode&&p.createElement(g.Z,{gutterBottom:!0},Y),A.case({Err:(0,S.Sj)(),Init:function(){return null},_:function(e){var t=v.Z.getPrevResult(e);if(!t)return p.createElement(d.Z,null);var n=function(e,t){var n=e.urls,r=e.scope,a=t.dirs.map((function(e){return{type:"dir",name:E.ge(E.ro(t.path,e)),to:n.bucketDir(t.bucket,e)}})),u=t.files.map((function(e){var r=e.key,a=e.size,l=e.modified,u=e.archived;return{type:"file",name:(0,s.basename)(r),to:n.bucketFile(t.bucket,r),size:a,modified:l,archived:u}})),i=(0,l.ev)((0,l.ev)([],a,!0),u,!0);return""===t.path||t.path===r||t.prefix||i.unshift({type:"dir",name:"..",to:n.bucketDir(t.bucket,E.up(t.path))}),c.Z(o.Z("name"),i)}({urls:T,scope:_.scope},t),r=!v.Z.Ok.is(e);return p.createElement(p.Fragment,null,p.createElement(C.NB,{items:n,locked:r,loadMore:H,truncated:t.truncated,prefixFilter:t.prefix,toolbarContents:p.createElement(C.I4,{key:t.bucket+"/"+t.path,prefix:t.prefix,setPrefix:K})}),p.createElement(q.Z,{files:t.files}))}}))}},74708:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(70655),a=n(26470),l=n(36962),s=n(67294),u=n(78869),i=n(36473);const c=function(e){var t=e.bucket,n=e.path,c=e.urls,o=e.scope,p=e.excludeBase,f=void 0!==p&&p,b=o&&n.startsWith(o),m=b?n.substring(o.length):n,d={label:b?(0,a.basename)(o):"ROOT",path:""},h=f?i.up(m):m,k=(0,r.ev)([d],i.tO(h),!0).map((function(e){var n=e.label,r=e.path;return u.$2.Segment({label:n,to:r===m?void 0:c.bucketDir(t,""+(b?o:"")+r)})})),v=l.Z(u.$2.Sep(s.createElement(s.Fragment,null," / ")),k);return f?(0,r.ev)((0,r.ev)([],v,!0),[u.$2.Sep(s.createElement(s.Fragment,null," /"))],!1):v}}}]);
//# sourceMappingURL=8657.c1bdce90ad225331170f.chunk.js.map
"use strict";(self.webpackChunkquilt_navigator=self.webpackChunkquilt_navigator||[]).push([[3898],{34787:(e,t,n)=>{n.d(t,{Z:()=>f,r:()=>h});var r=n(70655),a=n(94184),i=n.n(a),o=n(54862),c=n(67294),l=n(73727),u=n(41120),s=n(282),m=n(10529),d=n(24837),p=Symbol("gap"),h=function(e){var t=e.pages,n=e.page,a=e.max,i=e.renderPage,c=e.renderGap;return function(e,t,n){return void 0===n&&(n=8),e<=n?o.Z(1,e+1):t<=n-4?(0,r.ev)((0,r.ev)([],o.Z(1,n-1),!0),[p,e],!1):t>=e-n+4?(0,r.ev)([1,p],o.Z(e-n+3,e+1),!0):(0,r.ev)((0,r.ev)([1,p],o.Z(t-1,t+3),!0),[p,e],!1)}(t,n,a).map((function(e,t){return e===p?c(t):i(e)}))},g=u.Z((function(e){return{button:{background:e.palette.common.white,height:40,lineHeight:1,paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5)},current:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark}},gap:{cursor:"default",pointerEvents:"none"}}}));const f=c.forwardRef((function(e,t){var n=e.page,a=e.pages,o=e.makePageUrl,u=e.onChange,p=e.classes,f=void 0===p?{}:p,E=e.buttonGroupProps,v=(0,r._T)(e,["page","pages","makePageUrl","onChange","classes","buttonGroupProps"]),k=g();return c.createElement(m.Z,(0,r.pi)({display:"flex",justifyContent:"center",mt:3,mb:{xs:5,sm:0}},v,{ref:t}),c.createElement(d.Z,(0,r.pi)({variant:"contained"},E),h({pages:a,page:n,renderGap:function(e){return c.createElement(s.Z,{key:"gap:"+e,className:i()(k.button,k.gap,f.button,f.gap),component:"span"},"…")},renderPage:function(e){var t={};return o&&(t.component=l.Link,t.to=o(e)),u&&(t.onClick=function(){return u(e)}),c.createElement(s.Z,(0,r.pi)({key:"page:"+e,className:i()(k.button,f.button,n===e&&k.current,n===e&&f.current)},t),e)}})))}))},96830:(e,t,n)=>{n.d(t,{Rr:()=>ge,mD:()=>pe,ZI:()=>ve,Ex:()=>fe,LW:()=>Ee});var r=n(70655),a=n(94184),i=n.n(a),o=n(45243),c=n(53278),l=n(67826),u=n(64457),s=n(67294),m=n(73727),d=n(11476),p=n(10529),h=n(92863),g=n(17812),f=n(62087),E=n(22318),v=n(41120),k=n(8920),y=n(63457),b=n(282),Z=n(71267),w=n(73637),x=n(95477),_=n(78869),T=n(74391),B=n(34787),C=n(92549),R=n(79895),D=d.Z(R.Z)((function(e){var t,n=e.theme;return(t={position:"relative"})[n.breakpoints.down("xs")]={borderRadius:0,borderTop:"1px solid "+n.palette.divider,padding:n.spacing(2)},t[n.breakpoints.up("sm")]={marginTop:n.spacing(2),padding:n.spacing(4),paddingTop:n.spacing(3)},t})),M=d.Z(p.Z)((function(e){var t,n=e.theme;return(0,r.pi)((0,r.pi)({},n.typography.h6),((t={lineHeight:1.4,marginBottom:n.spacing(1)})[n.breakpoints.up("sm")]={marginBottom:n.spacing(2)},t[n.breakpoints.up("md")]=(0,r.pi)({},n.typography.h5),t))})),S=n(80679),q=n(43987),N=n(88322),F=n(766),W=n(84268),L=n(83962),O=n(69534),P=n(70397),z=n(36473),I=n(99643),j=n(34314),G=n(45677),$=d.Z(P.Z)({wordBreak:"break-word"});function H(e){var t=e.handle,n=e.showBucket,a=void 0!==n&&n,i=O.D$().urls,l=t.key.endsWith("/"),u=s.useMemo((function(){var e=(0,z.tO)(t.key),n=o.Z(e).map((function(e){var n=e.label,r=e.path;return{to:i.bucketFile(t.bucket,r),children:n}})),r={to:i.bucketFile(t.bucket,t.key,t.version),children:c.Z(e).label};return{bucket:a?{to:i.bucketRoot(t.bucket),children:t.bucket}:null,dirs:n,file:r}}),[t,i,a]);return s.createElement("span",{onCopy:_.Yn},s.createElement(U,{title:l?"Directory":"File"},l?"folder_open":"insert_drive_file"),u.bucket&&s.createElement(s.Fragment,null,s.createElement($,(0,r.pi)({},u.bucket))," /"," "),u.dirs.map((function(e){return s.createElement(s.Fragment,{key:"crumb:"+e.to},s.createElement($,(0,r.pi)({},e))," /"," ")})),s.createElement($,(0,r.pi)({},u.file)))}function U(e){return s.createElement(p.Z,(0,r.pi)({component:h.Z,color:"text.hint",mr:1,style:{verticalAlign:"middle"}},e))}function V(e){var t=e.handle,n=e.showBucket,a=e.downloadable,i=void 0!==a&&a;return s.createElement(M,{display:"flex",alignItems:"center",mb:"0 !important"},s.createElement(H,(0,r.pi)({},{handle:t,showBucket:n})),s.createElement(p.Z,{flexGrow:1}),!!i&&S.Ep.withDownloadUrl(t,(function(e){return s.createElement(p.Z,{alignItems:"center",display:"flex",height:32,justifyContent:"center",width:24,my:{xs:-.25,md:0}},s.createElement(g.Z,{href:e,title:"Download",download:!0},s.createElement(h.Z,null,"arrow_downward")))})))}function Y(e){var t=e.bucket,n=e.handle,r=e.hash,a=e.showBucket,i=O.D$().urls;return s.createElement(M,{mb:1},s.createElement(U,{title:"Package",component:f.Z,viewBox:"-133 0 1264 1008"},s.createElement("path",{fill:"currentColor",d:"M-2 918V446l1004 4v472c0 52-41 93-92 93H91c-52 0-93-43-93-97zM193 3h278v380H0c0-6 0-12 2-16L102 68c14-40 50-65 91-65zm709 63l100 299v2c2 4 2 8 2 12H534V1h277c41 0 77 25 91 65z"})),s.createElement("span",null,!!a&&s.createElement(s.Fragment,null,s.createElement($,{to:i.bucketPackageList(t)},t)," /"," "),s.createElement($,{to:i.bucketPackageTree(t,n,r)},n,s.createElement(p.Z,{component:"span",color:"text.hint"},"@"),l.Z(10,r))),s.createElement(p.Z,{flexGrow:1}))}var A=function(e){var t=e.children;return s.createElement(p.Z,{mt:2},t)},J=function(e){var t=e.children,n=(0,r._T)(e,["children"]);return s.createElement(E.Z,(0,r.pi)({variant:"h6"},n),t)},Q=function(e){var t=(0,r._T)(e,[]);return s.createElement(p.Z,(0,r.pi)({color:"text.primary",fontWeight:"fontWeightRegular",component:"span"},t))},X=d.Z("span")({whiteSpace:"nowrap"}),K=v.Z((function(e){return{versionContainer:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightLight},version:{fontFamily:e.typography.monospace.fontFamily,fontWeight:e.typography.fontWeightMedium},seeOther:(0,r.pi)({borderBottom:"1px dashed",cursor:"pointer"},P.R)}}));function ee(e){var t=e.bucket,n=e.path,r=e.version,a=e.versions,i=K(),o=O.D$().urls,c=s.useState(!1),l=c[0],u=c[1],m=s.useCallback((function(){u(!l)}),[u,l]),d=k.Z(),h=y.Z(d.breakpoints.down("xs")),g=function(e,t){var n=""+e;return h?n.substring(0,t):n};return s.createElement(p.Z,{mt:1},s.createElement(E.Z,{variant:"subtitle1",className:i.versionContainer},s.createElement(X,null,"Version"," ",s.createElement(P.Z,{to:o.bucketFile(t,n,r.id),className:i.version},g(r.id,24)))," ",s.createElement(X,null,"from ",s.createElement(Q,null,r.updated.toLocaleString())," | ",s.createElement(Q,null,(0,I.kR)(r.size)))),a.length>1&&s.createElement(E.Z,null,s.createElement("span",{className:i.seeOther,onClick:m},l?"hide ":"show "," all versions (",a.length,")")),a.length>1&&l&&s.createElement(A,null,s.createElement(J,{gutterBottom:!0},"Versions ordered by relevance"),a.map((function(e){return s.createElement(E.Z,{key:e.updated.getTime()+":"+e.id,variant:"body2",className:i.versionContainer},s.createElement(P.Z,{to:o.bucketFile(t,n,e.id),className:i.version},g(e.id,6))," from ",s.createElement(Q,null,e.updated.toLocaleString())," | ",e.deleteMarker?s.createElement(Q,null,"Delete Marker"):s.createElement(Q,null,(0,I.kR)(e.size)))}))))}var te=v.Z((function(e){return{root:{border:"1px solid "+e.palette.grey[300],borderRadius:e.shape.borderRadius,maxHeight:e.spacing(30),marginTop:e.spacing(1),minHeight:e.spacing(15),padding:e.spacing(2),position:"relative","& img":{marginLeft:"auto",marginRight:"auto"},"&:not($expanded)":{overflow:"hidden","& .ipynb-preview .cell:nth-child(n+3)":{display:"none"}}},expanded:{maxHeight:"none"},fade:{alignItems:"flex-end",background:"linear-gradient(to top,\n      rgba(255, 255, 255, 1),\n      rgba(255, 255, 255, 0.9),\n      rgba(255, 255, 255, 0.1),\n      rgba(255, 255, 255, 0.1)\n    )",bottom:0,display:"flex",height:"100%",justifyContent:"center",left:0,padding:e.spacing(1),position:"absolute",width:"100%",zIndex:1}}}));function ne(e){var t,n=e.children,r=e.title,a=te(),o=s.useState(!1),c=o[0],l=o[1],u=s.useCallback((function(){l(!0)}),[l]);return s.createElement(A,null,r&&s.createElement(J,null,r),s.createElement("div",{className:i()(a.root,(t={},t[a.expanded]=c,t))},n,!c&&s.createElement("div",{className:a.fade},s.createElement(b.Z,{variant:"outlined",onClick:u},"Expand"))))}var re=function(e){return s.createElement(ne,(0,r.pi)({},{children:e}))};function ae(e){var t,n=e.handle,r=e.bucketExistenceData,a=e.versionExistenceData;return t=C.jf({renderContents:re}),r.case({_:t,Err:function(){return t(q.Z.Err(C.Mh.DoesNotExist({handle:n})))},Ok:function(){return a.case({_:t,Err:function(e){return t(q.Z.Err(C.Mh.Unexpected({handle:n,originalError:e})))},Ok:G.NB.case({Exists:function(e){return e.deleted?t(q.Z.Err(C.Mh.Deleted({handle:n}))):e.archived?t(q.Z.Err(C.Mh.Archived({handle:n}))):C.zD(n,t)},DoesNotExist:function(){return t(q.Z.Err(C.Mh.InvalidVersion({handle:n})))}})})}})}function ie(e){var t=e.meta;return!t||u.Z(t)?null:s.createElement(ne,{title:"Metadata"},s.createElement(T.Z,{defaultExpanded:1,value:t}))}var oe=v.Z((function(e){return{revision:(0,r.pi)((0,r.pi)({},e.typography.subtitle1),{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightLight,marginTop:e.spacing(2)}),mono:{fontFamily:e.typography.monospace.fontFamily,fontWeight:e.typography.fontWeightMedium},msg:(0,r.pi)((0,r.pi)({},e.typography.body2),{WebkitBoxOrient:"vertical",WebkitLineClamp:2,display:"-webkit-box",marginTop:e.spacing(1),overflow:"hidden",overflowWrap:"break-word",textOverflow:"ellipsis"})}}));function ce(e){var t=e.bucket,n=e.handle,r=e.hash,a=e.comment,i=e.lastModified,o=oe(),c=O.D$().urls;return s.createElement(p.Z,null,s.createElement("p",{className:o.revision},s.createElement(X,null,"Revision"," ",s.createElement(P.Z,{to:c.bucketPackageTree(t,n,r),className:o.mono,title:r},l.Z(10,r)))," ",s.createElement(X,null,"from ",s.createElement(Q,null,i.toLocaleString()))),s.createElement("p",{className:o.msg},a||s.createElement("i",null,"No message")))}function le(e){var t=e.hit,n=(0,r._T)(e,["hit"]),a=t.path.endsWith("/")?se:ue;return s.createElement(a,(0,r.pi)({},(0,r.pi)({hit:t},n)))}function ue(e){var t=e.showBucket,n=e.hit,a=n.path,i=n.versions,o=n.bucket,c=F.D$(),l=S.S3.use(),u=i[0],m={bucket:o,key:a,version:u.id},d=(0,N.Xc)(o),p=W.D$(G.cY,(0,r.pi)({s3:l},m)),h=!c.noDownload&&d.case({_:function(){return!1},Ok:function(){return p.case({_:function(){return!1},Ok:G.NB.case({_:function(){return!1},Exists:function(e){var t=e.deleted,n=e.archived;return!t&&!n}})})}});return s.createElement(D,null,s.createElement(V,(0,r.pi)({},{handle:m,showBucket:t,downloadable:h})),s.createElement(ee,{bucket:o,path:a,version:u,versions:i}),s.createElement(ie,{meta:u.meta}),s.createElement(ae,(0,r.pi)({},{handle:m,bucketExistenceData:d,versionExistenceData:p})))}function se(e){var t=e.showBucket,n=e.hit,a=n.path,i=n.versions[0],o={bucket:n.bucket,key:a};return s.createElement(D,null,s.createElement(V,(0,r.pi)({},{handle:o,showBucket:t})),s.createElement(ie,{meta:i.meta}))}function me(e){var t=e.showBucket,n=e.hit,a=n.bucket,i=n.handle,o=n.hash,c=n.lastModified,l=n.meta,u=n.tags,m=n.comment;return s.createElement(D,null,s.createElement(Y,(0,r.pi)({},{handle:i,bucket:a,hash:o,showBucket:t})),s.createElement(ce,(0,r.pi)({},{bucket:a,handle:i,hash:o,comment:m,lastModified:c})),u&&u.length>0&&s.createElement(p.Z,{mt:2},u.map((function(e){return s.createElement(s.Fragment,{key:e},s.createElement(Z.Z,{variant:"outlined",size:"small",label:e})," ")}))),s.createElement(ie,{meta:l}))}function de(e){var t="package"===e.hit.type?me:le;return s.createElement(t,(0,r.pi)({},e))}function pe(e){var t=e.hits,n=e.page,a=e.scrollRef,i=e.makePageUrl,o=e.perPage,c=void 0===o?10:o,l=e.showBucket,u=n||1,m=Math.ceil(t.length/c),d=s.useMemo((function(){return 1===m?t:t.slice((u-1)*c,u*c)}),[t,u,c,m]);return(0,j.Z)(u,(function(e){e&&u!==e&&a.current&&a.current.scrollIntoView()})),s.createElement(s.Fragment,null,d.map((function(e){return s.createElement(de,{key:e.key,hit:e,showBucket:l})})),m>1&&s.createElement(B.Z,(0,r.pi)({},{pages:m,page:u,makePageUrl:i})))}var he=v.Z((function(e){var t;return{root:(t={paddingTop:e.spacing(3)},t[e.breakpoints.down("xs")]={borderTop:"1px solid "+e.palette.divider,paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},t)}}));function ge(e){var t=e.className,n=(0,r._T)(e,["className"]),a=he();return s.createElement(p.Z,(0,r.pi)({className:i()(t,a.root)},n))}function fe(e){var t=e.children;return s.createElement(ge,null,s.createElement(L.Z,{alwaysRender:!0},(function(e){return s.createElement(w.Z,{in:e},s.createElement(p.Z,{display:"flex",alignItems:"center"},s.createElement(p.Z,{pr:2},s.createElement(x.Z,{size:24})),s.createElement(E.Z,{variant:"body1"},t)))})))}var Ee=function(e){return function(t){return s.createElement(ge,null,s.createElement(E.Z,{variant:"h5",gutterBottom:!0},"SearchSyntaxError"===t.message?s.createElement(s.Fragment,null,"Search syntax error"):"Timeout"===t.message?s.createElement(s.Fragment,null,"Query timed out"):s.createElement(s.Fragment,null,"Search error")),"SearchSyntaxError"===t.message?s.createElement(E.Z,{gutterBottom:!0},"Oops, couldn't parse that search. Try quoting your query or read about"," ",s.createElement(P.Z,{href:"https://www.elastic.co/guide/en/elasticsearch/reference/6.8/query-dsl-query-string-query.html#query-string-syntax",target:"_blank"},"supported query syntax"),".",!!e&&s.createElement(s.Fragment,null," You can also click RETRY to try a simplified version of your query.")):"Timeout"===t.message?s.createElement(E.Z,{gutterBottom:!0},"That made ElasticSearch sweat. Try"," ",s.createElement(P.Z,{href:"https://www.elastic.co/guide/en/elasticsearch/reference/6.8/query-dsl-query-string-query.html#_wildcards",target:"_blank"},"avoiding wildcards")," ","or ask Quilt about scaling your cluster."):s.createElement(E.Z,{gutterBottom:!0},"ElasticSearch had trouble with that query. The cluster may be busy indexing new documents. Try again later",!!e&&s.createElement(s.Fragment,null," or click RETRY to try a simplified version of your query"),"."),!!t.status&&s.createElement(E.Z,null,"Status: ",t.status),!!t.code&&s.createElement(E.Z,null,"Code: ",t.code),!!t.details&&s.createElement(s.Fragment,null,s.createElement(E.Z,null,"Error details:"),s.createElement(E.Z,{style:{whiteSpace:"pre"}},t.details)),!!e&&s.createElement(p.Z,{pt:2},s.createElement(b.Z,{component:m.Link,to:e,color:"primary",variant:"contained"},"Retry simplified query")))}};function ve(e){var t=e.children;return s.createElement(ge,null,s.createElement(E.Z,{variant:"body1"},"We have not found anything matching your query"),t)}},79995:(e,t,n)=>{n.d(t,{Z:()=>D});var r,a=n(70655),i=n(3735),o=n(40362),c=n(20926),l=n(19344),u=n(57330),s=n(57438),m=n(12338),d=n(63896),p=n(83542),h=n(58493),g=n(67294),f=n(46974),E=n(37894),v=n(36155),k=n(57996),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t}(v.G),b=function(e){return e&&new Date(e)},Z="_packages",w=function(e){var t,n=e.bucket,r=e.score,a=e.src,i="object:"+n+"/"+a.key;return(t={})[i]={key:i,type:"object",score:r,bucket:n,path:a.key,versions:[{id:a.version_id,score:r,updated:b(a.updated),lastModified:b(a.last_modified),size:a.size,meta:a.user_meta,deleteMarker:a.delete_marker}]},t},x=function(e){try{return JSON.parse(e)}catch(t){return e}},_=function(e){var t,n=e.bucket,r=e.score,a=e.src;if(a.delete_marker||!a.hash)return{};var i="package:"+n+"/"+a.handle+":"+a.hash;return(t={})[i]={key:i,type:"package",bucket:n,score:r,handle:a.handle,hash:a.hash,lastModified:b(a.last_modified),meta:x(a.metadata),comment:a.comment},t},T=function(e){var t=e._score,n=e._source,r=function(e){var t=e.lastIndexOf("-reindex-"),n=-1===t?e:e.slice(0,t),r=n.lastIndexOf(Z);return-1===r?{type:"object",bucket:n}:{type:"package",bucket:n.slice(0,r)}}(e._index),a=r.type,i=r.bucket;return("object"===a?w:_)({bucket:i,score:t,src:n})},B=function(e,t){return t},C=o.Z((r={score:c.Z,versions:l.Z(u.Z,s.Z((function(e){return-e.score})))},function(e,t,n){return(r[e]||B)(t,n)})),R=l.Z(m.Z((function(e,t){return C(e,T(t))}),{}),d.Z,s.Z((function(e){return-e.score})));function D(){var e=this,t=f.D$(),n=E.Zh(),r=g.useMemo((function(){return n.map((function(e){return e.name}))}),[n]);return g.useCallback((function(n){var o=n.query,c=n.buckets,l=void 0===c?[]:c,u=n.mode,s=void 0===u?"all":u,m=n.retry;return(0,a.mG)(e,void 0,void 0,(function(){var e,n,c,u,d,g,E;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:e=i.zG(l.length?l:r,p.Z((function(e){var t=[];return"objects"!==s&&"all"!==s||t.push(e),"packages"!==s&&"all"!==s||t.push(""+e+Z),t})),h.Z(",")),a.label=1;case 1:return a.trys.push([1,3,,4]),n=(0,k.Z)({index:e,action:"search",query:o,retry:m}),[4,t("/search"+n)];case 2:return c=a.sent(),[2,{hits:R(c.hits.hits),total:c.hits.total}];case 3:if((u=a.sent())instanceof f.Bb){if(d=u.text.match(/^RequestError\((\d+), '(\w+)', '(.+)'\)$/)){if(g=d[2],v=d[3],E=v.replace(/\\n/g,"\n"),"search_phase_execution_exception"===g)throw new y("SearchSyntaxError",{details:E});throw new y("RequestError",{code:g,details:E,status:parseInt(d[1],10)||void 0})}if(u.text&&/^ConnectionTimeout/.test(u.text))throw new y("Timeout")}throw console.log("Search error:"),console.error(u),new y("Unexpected",{originalError:u});case 4:return[2]}var v}))}))}),[t,r])}}}]);
//# sourceMappingURL=3898.7deab26725d41b9898b2.chunk.js.map
{"version":3,"file":"9301.e5f953ccf80e9e40fabf.chunk.js","mappings":"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","sources":["webpack://quilt-navigator/./node_modules/lodash/_apply.js","webpack://quilt-navigator/./node_modules/lodash/_assignValue.js","webpack://quilt-navigator/./node_modules/lodash/_baseKeysIn.js","webpack://quilt-navigator/./node_modules/lodash/_baseSetToString.js","webpack://quilt-navigator/./node_modules/lodash/_baseValues.js","webpack://quilt-navigator/./node_modules/lodash/_copyObject.js","webpack://quilt-navigator/./node_modules/lodash/_getPrototype.js","webpack://quilt-navigator/./node_modules/lodash/_isIterateeCall.js","webpack://quilt-navigator/./node_modules/lodash/_nativeKeysIn.js","webpack://quilt-navigator/./node_modules/lodash/_overRest.js","webpack://quilt-navigator/./node_modules/lodash/_setToString.js","webpack://quilt-navigator/./node_modules/lodash/_shortOut.js","webpack://quilt-navigator/./node_modules/lodash/constant.js","webpack://quilt-navigator/./node_modules/lodash/isError.js","webpack://quilt-navigator/./node_modules/lodash/isPlainObject.js","webpack://quilt-navigator/./node_modules/lodash/keysIn.js","webpack://quilt-navigator/./node_modules/ramda/es/mergeDeepWith.js","webpack://quilt-navigator/./node_modules/ramda/es/mergeDeepWithKey.js","webpack://quilt-navigator/./node_modules/ramda/es/mergeWithKey.js","webpack://quilt-navigator/./app/utils/BucketPreferences.tsx","webpack://quilt-navigator/./app/utils/MetaTitle.tsx","webpack://quilt-navigator/./app/containers/Bucket/BucketNav.tsx","webpack://quilt-navigator/./app/containers/Bucket/CatchNotFound.tsx","webpack://quilt-navigator/./app/containers/Bucket/Bucket.js"],"sourcesContent":["/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike'),\n    isPlainObject = require('./isPlainObject');\n\n/** `Object#toString` result references. */\nvar domExcTag = '[object DOMException]',\n    errorTag = '[object Error]';\n\n/**\n * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n * `SyntaxError`, `TypeError`, or `URIError` object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n * @example\n *\n * _.isError(new Error);\n * // => true\n *\n * _.isError(Error);\n * // => false\n */\nfunction isError(value) {\n  if (!isObjectLike(value)) {\n    return false;\n  }\n  var tag = baseGetTag(value);\n  return tag == errorTag || tag == domExcTag ||\n    (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n}\n\nmodule.exports = isError;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","import _curry3 from \"./internal/_curry3.js\";\nimport mergeDeepWithKey from \"./mergeDeepWithKey.js\";\n/**\n * Creates a new object with the own properties of the two provided objects.\n * If a key exists in both objects:\n * - and both associated values are also objects then the values will be\n *   recursively merged.\n * - otherwise the provided function is applied to associated values using the\n *   resulting value as the new value associated with the key.\n * If a key only exists in one object, the value will be associated with the key\n * of the resulting object.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig ((a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.mergeWith, R.mergeDeepWithKey\n * @example\n *\n *      R.mergeDeepWith(R.concat,\n *                      { a: true, c: { values: [10, 20] }},\n *                      { b: true, c: { values: [15, 35] }});\n *      //=> { a: true, b: true, c: { values: [10, 20, 15, 35] }}\n */\n\nvar mergeDeepWith =\n/*#__PURE__*/\n_curry3(function mergeDeepWith(fn, lObj, rObj) {\n  return mergeDeepWithKey(function (k, lVal, rVal) {\n    return fn(lVal, rVal);\n  }, lObj, rObj);\n});\n\nexport default mergeDeepWith;","import _curry3 from \"./internal/_curry3.js\";\nimport _isObject from \"./internal/_isObject.js\";\nimport mergeWithKey from \"./mergeWithKey.js\";\n/**\n * Creates a new object with the own properties of the two provided objects.\n * If a key exists in both objects:\n * - and both associated values are also objects then the values will be\n *   recursively merged.\n * - otherwise the provided function is applied to the key and associated values\n *   using the resulting value as the new value associated with the key.\n * If a key only exists in one object, the value will be associated with the key\n * of the resulting object.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig ((String, a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.mergeWithKey, R.mergeDeepWith\n * @example\n *\n *      let concatValues = (k, l, r) => k == 'values' ? R.concat(l, r) : r\n *      R.mergeDeepWithKey(concatValues,\n *                         { a: true, c: { thing: 'foo', values: [10, 20] }},\n *                         { b: true, c: { thing: 'bar', values: [15, 35] }});\n *      //=> { a: true, b: true, c: { thing: 'bar', values: [10, 20, 15, 35] }}\n */\n\nvar mergeDeepWithKey =\n/*#__PURE__*/\n_curry3(function mergeDeepWithKey(fn, lObj, rObj) {\n  return mergeWithKey(function (k, lVal, rVal) {\n    if (_isObject(lVal) && _isObject(rVal)) {\n      return mergeDeepWithKey(fn, lVal, rVal);\n    } else {\n      return fn(k, lVal, rVal);\n    }\n  }, lObj, rObj);\n});\n\nexport default mergeDeepWithKey;","import _curry3 from \"./internal/_curry3.js\";\nimport _has from \"./internal/_has.js\";\n/**\n * Creates a new object with the own properties of the two provided objects. If\n * a key exists in both objects, the provided function is applied to the key\n * and the values associated with the key in each object, with the result being\n * used as the value associated with the key in the returned object.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category Object\n * @sig ((String, a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} l\n * @param {Object} r\n * @return {Object}\n * @see R.mergeDeepWithKey, R.merge, R.mergeWith\n * @example\n *\n *      let concatValues = (k, l, r) => k == 'values' ? R.concat(l, r) : r\n *      R.mergeWithKey(concatValues,\n *                     { a: true, thing: 'foo', values: [10, 20] },\n *                     { b: true, thing: 'bar', values: [15, 35] });\n *      //=> { a: true, b: true, thing: 'bar', values: [10, 20, 15, 35] }\n * @symb R.mergeWithKey(f, { x: 1, y: 2 }, { y: 5, z: 3 }) = { x: 1, y: f('y', 2, 5), z: 3 }\n */\n\nvar mergeWithKey =\n/*#__PURE__*/\n_curry3(function mergeWithKey(fn, l, r) {\n  var result = {};\n  var k;\n\n  for (k in l) {\n    if (_has(k, l)) {\n      result[k] = _has(k, r) ? fn(k, l[k], r[k]) : l[k];\n    }\n  }\n\n  for (k in r) {\n    if (_has(k, r) && !_has(k, result)) {\n      result[k] = r[k];\n    }\n  }\n\n  return result;\n});\n\nexport default mergeWithKey;","import * as R from 'ramda'\nimport * as React from 'react'\n\nimport bucketPreferencesSchema from 'schemas/bucketConfig.yml.json'\n\nimport * as AWS from 'utils/AWS'\nimport * as Config from 'utils/Config'\nimport { useData } from 'utils/Data'\nimport * as Sentry from 'utils/Sentry'\nimport { makeSchemaValidator } from 'utils/json-schema'\nimport yaml from 'utils/yaml'\nimport * as bucketErrors from 'containers/Bucket/errors'\nimport * as requests from 'containers/Bucket/requests'\n\ntype SentryInstance = (command: 'captureMessage', message: string) => void\n\nexport type ActionPreferences = Record<\n  'copyPackage' | 'createPackage' | 'deleteRevision' | 'revisePackage',\n  boolean\n>\n\nexport type NavPreferences = Record<'files' | 'packages' | 'queries', boolean>\n\nexport interface SourceBuckets {\n  getDefault: () => string\n  list: string[]\n}\n\ninterface UiPreferences {\n  actions: ActionPreferences\n  nav: NavPreferences\n  sourceBuckets: SourceBuckets\n}\n\ninterface UiPreferencesYaml {\n  actions?: ActionPreferences\n  defaultSourceBucket?: string\n  nav?: NavPreferences\n  sourceBuckets?: Record<string, null>\n}\n\ninterface BucketPreferencesYaml {\n  ui?: UiPreferencesYaml\n}\n\ninterface BucketPreferences {\n  ui: UiPreferences\n}\n\nconst defaultPreferences: BucketPreferences = {\n  ui: {\n    actions: {\n      copyPackage: true,\n      createPackage: true,\n      deleteRevision: false,\n      revisePackage: true,\n    },\n    nav: {\n      files: true,\n      packages: true,\n      queries: true,\n    },\n    sourceBuckets: {\n      getDefault: () => '',\n      list: [],\n    },\n  },\n}\n\nconst localModePreferences: BucketPreferences = {\n  ui: {\n    ...defaultPreferences.ui,\n    actions: {\n      copyPackage: false,\n      createPackage: false,\n      deleteRevision: false,\n      revisePackage: false,\n    },\n    nav: {\n      files: true,\n      packages: true,\n      queries: false,\n    },\n  },\n}\n\nconst bucketPreferencesValidator = makeSchemaValidator(bucketPreferencesSchema)\n\nfunction validate(data: unknown): asserts data is BucketPreferencesYaml {\n  const errors = bucketPreferencesValidator(data)\n  if (errors.length) throw new bucketErrors.BucketPreferencesInvalid({ errors })\n}\n\nconst S3_PREFIX = 's3://'\nconst normalizeBucketName = (input: string) =>\n  input.startsWith(S3_PREFIX) ? input.slice(S3_PREFIX.length) : input\n\nfunction parseSourceBuckets(\n  sentry: SentryInstance,\n  ui?: UiPreferencesYaml,\n): SourceBuckets {\n  const list = Object.keys(ui?.sourceBuckets || {}).map(normalizeBucketName)\n  const defaultSourceBucket = normalizeBucketName(ui?.defaultSourceBucket || '')\n  return {\n    getDefault: () => {\n      if (defaultSourceBucket) {\n        const found = list.find((name) => name === defaultSourceBucket)\n        if (found) return found\n        sentry(\n          'captureMessage',\n          `defaultSourceBucket ${defaultSourceBucket} is incorrect`,\n        )\n      }\n      return list[0] || ''\n    },\n    list,\n  }\n}\n\nfunction parse(bucketPreferencesYaml: string, sentry: SentryInstance): BucketPreferences {\n  const data = yaml(bucketPreferencesYaml)\n  if (!data) return defaultPreferences\n\n  validate(data)\n\n  return {\n    ui: {\n      actions: R.mergeRight(defaultPreferences.ui.actions, data?.ui?.actions || {}),\n      nav: R.mergeRight(defaultPreferences.ui.nav, data?.ui?.nav || {}),\n      sourceBuckets: parseSourceBuckets(sentry, data?.ui),\n    },\n  }\n}\n\nconst BUCKET_PREFERENCES_PATH = [\n  '.quilt/catalog/config.yaml',\n  '.quilt/catalog/config.yml',\n]\n\ninterface FetchBucketPreferencesArgs {\n  s3: $TSFixMe\n  bucket: string\n  sentry: SentryInstance\n  local: boolean\n}\n\nasync function fetchBucketPreferences({\n  s3,\n  sentry,\n  bucket,\n  local,\n}: FetchBucketPreferencesArgs) {\n  if (local) return localModePreferences\n  try {\n    const response = await requests.fetchFile({\n      s3,\n      bucket,\n      path: BUCKET_PREFERENCES_PATH,\n    })\n    return parse(response.Body.toString('utf-8'), sentry)\n  } catch (e) {\n    if (\n      e instanceof bucketErrors.FileNotFound ||\n      e instanceof bucketErrors.VersionNotFound\n    )\n      return defaultPreferences\n\n    // eslint-disable-next-line no-console\n    console.log('Unable to fetch')\n    // eslint-disable-next-line no-console\n    console.error(e)\n    throw e\n  }\n}\n\nconst Ctx = React.createContext<BucketPreferences | null>(null)\n\ntype ProviderProps = React.PropsWithChildren<{ bucket: string }>\n\nexport function Provider({ bucket, children }: ProviderProps) {\n  const cfg = Config.use()\n  const local = cfg.mode === 'LOCAL'\n  const sentry = Sentry.use()\n  const s3 = AWS.S3.use()\n  const data = useData(fetchBucketPreferences, { s3, sentry, bucket, local })\n\n  // XXX: consider returning AsyncResult or using Suspense\n  const preferences = data.case({\n    Ok: R.identity,\n    Err: () => defaultPreferences,\n    _: () => null,\n  })\n  return <Ctx.Provider value={preferences}>{children}</Ctx.Provider>\n}\n\nexport const useBucketPreferences = () => React.useContext(Ctx)\n\nexport const use = useBucketPreferences\n","import * as React from 'react'\nimport { Helmet } from 'react-helmet'\n\nconst BASE = 'Quilt is a versioned data hub for AWS'\n\nconst DIVIDER = ' • '\n\ninterface MetaTitleProps {\n  children?: string | string[]\n  base?: string\n}\n\nfunction getTitleSegments(base: string, children?: string | string[]) {\n  if (!children) return [base]\n\n  if (Array.isArray(children)) return [...children, base]\n\n  return [children, base]\n}\n\nexport function getTitle(base: string, children?: string | string[]) {\n  return getTitleSegments(base, children).join(DIVIDER)\n}\n\nexport default function MetaTitle({ children, base = BASE }: MetaTitleProps) {\n  return (\n    <Helmet>\n      <title>{getTitle(base, children)}</title>\n    </Helmet>\n  )\n}\n","import * as React from 'react'\nimport { Link } from 'react-router-dom'\nimport * as M from '@material-ui/core'\n\nimport Skeleton from 'components/Skeleton'\nimport * as NamedRoutes from 'utils/NamedRoutes'\nimport * as BucketPreferences from 'utils/BucketPreferences'\n\nconst useStyles = M.makeStyles((t) => ({\n  root: {\n    minHeight: t.spacing(8),\n    minWidth: 120,\n  },\n}))\n\ntype NavTabProps = React.ComponentProps<typeof M.Tab> & React.ComponentProps<typeof Link>\n\nfunction NavTab(props: NavTabProps) {\n  const classes = useStyles()\n\n  return <M.Tab className={classes.root} component={Link} {...props} />\n}\n\ninterface BucketNavProps {\n  bucket: string\n  section: 'overview' | 'packages' | 'queries' | 'search' | 'tree' | false // `keyof` sections object\n}\n\nconst useBucketNavSkeletonStyles = M.makeStyles((t) => ({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  item: {\n    height: t.spacing(3),\n    margin: t.spacing(3, 3, 2),\n    width: t.spacing(10),\n  },\n}))\n\nfunction BucketNavSkeleton() {\n  const classes = useBucketNavSkeletonStyles()\n  return (\n    <div className={classes.root}>\n      <Skeleton className={classes.item} animate />\n      <Skeleton className={classes.item} animate />\n      <Skeleton className={classes.item} animate />\n    </div>\n  )\n}\n\ninterface TabsProps {\n  bucket: string\n  preferences: BucketPreferences.NavPreferences\n  section: string | boolean\n}\n\nfunction Tabs({ bucket, preferences, section = false }: TabsProps) {\n  const { urls } = NamedRoutes.use()\n  const t = M.useTheme()\n  const sm = M.useMediaQuery(t.breakpoints.down('sm'))\n  return (\n    <M.Tabs\n      value={section}\n      centered={!sm}\n      variant={sm ? 'scrollable' : 'standard'}\n      scrollButtons=\"auto\"\n    >\n      <NavTab label=\"Overview\" value=\"overview\" to={urls.bucketOverview(bucket)} />\n      {preferences.files && (\n        <NavTab label=\"Bucket\" value=\"tree\" to={urls.bucketDir(bucket)} />\n      )}\n      {preferences.packages && (\n        <NavTab label=\"Packages\" value=\"packages\" to={urls.bucketPackageList(bucket)} />\n      )}\n      {preferences.queries && (\n        <NavTab label=\"Queries\" value=\"queries\" to={urls.bucketQueries(bucket)} />\n      )}\n      {section === 'search' && (\n        <NavTab label=\"Search\" value=\"search\" to={urls.bucketSearch(bucket)} />\n      )}\n    </M.Tabs>\n  )\n}\n\nexport default function BucketNav({ bucket, section = false }: BucketNavProps) {\n  const preferences = BucketPreferences.use()\n\n  if (!preferences) return <BucketNavSkeleton />\n\n  return <Tabs bucket={bucket} preferences={preferences.ui.nav} section={section} />\n}\n","import * as React from 'react'\nimport * as redux from 'react-redux'\nimport * as M from '@material-ui/core'\n\nimport Error from 'components/Error'\nimport * as authSelectors from 'containers/Auth/selectors'\nimport { createNotFound } from 'containers/NotFoundPage'\n\nconst CatchNotFound = createNotFound(() => {\n  const username = redux.useSelector(authSelectors.username)\n  const helpText = username\n    ? 'Try to navigate using one of these tabs above'\n    : 'Do you need to log in?'\n  return (\n    <M.Box mt={4}>\n      <Error headline=\"Nothing here\" detail={helpText} />\n    </M.Box>\n  )\n})\n\nexport default CatchNotFound\n","import * as R from 'ramda'\nimport * as React from 'react'\nimport { Route, Switch, matchPath } from 'react-router-dom'\nimport * as M from '@material-ui/core'\n\nimport Layout from 'components/Layout'\nimport Placeholder from 'components/Placeholder'\nimport { ThrowNotFound } from 'containers/NotFoundPage'\nimport { useBucketExistence } from 'utils/BucketCache'\nimport * as NamedRoutes from 'utils/NamedRoutes'\nimport * as BucketPreferences from 'utils/BucketPreferences'\nimport MetaTitle from 'utils/MetaTitle'\nimport * as RT from 'utils/reactTools'\n\nimport BucketNav from './BucketNav'\nimport CatchNotFound from './CatchNotFound'\nimport { displayError } from './errors'\n\nconst SuspensePlaceholder = () => <Placeholder color=\"text.secondary\" />\n\nconst Dir = RT.mkLazy(() => import('./Dir'), SuspensePlaceholder)\nconst File = RT.mkLazy(() => import('./File'), SuspensePlaceholder)\nconst Overview = RT.mkLazy(() => import('./Overview'), SuspensePlaceholder)\nconst PackageList = RT.mkLazy(() => import('./PackageList'), SuspensePlaceholder)\nconst PackageRevisions = RT.mkLazy(\n  () => import('./PackageRevisions'),\n  SuspensePlaceholder,\n)\nconst PackageTree = RT.mkLazy(() => import('./PackageTree'), SuspensePlaceholder)\nconst Queries = RT.mkLazy(() => import('./Queries'), SuspensePlaceholder)\nconst Search = RT.mkLazy(() => import('./Search'), SuspensePlaceholder)\n\nconst match = (cases) => (pathname) => {\n  // eslint-disable-next-line no-restricted-syntax\n  for (const [section, variants] of Object.entries(cases)) {\n    // eslint-disable-next-line no-restricted-syntax\n    for (const opts of variants) {\n      if (matchPath(pathname, opts)) return section\n    }\n  }\n  return false\n}\n\nconst sections = {\n  overview: { path: 'bucketOverview', exact: true },\n  packages: { path: 'bucketPackageList' },\n  tree: [\n    { path: 'bucketFile', exact: true, strict: true },\n    { path: 'bucketDir', exact: true },\n  ],\n  queries: { path: 'bucketQueries' },\n  search: { path: 'bucketSearch', exact: true },\n}\n\nconst getBucketSection = (paths) =>\n  match(\n    R.map(\n      (variants) => [].concat(variants).map(R.evolve({ path: (p) => paths[p] })),\n      sections,\n    ),\n  )\n\nconst useStyles = M.makeStyles((t) => ({\n  appBar: {\n    backgroundColor: t.palette.common.white,\n    color: t.palette.getContrastText(t.palette.common.white),\n  },\n}))\n\nfunction BucketLayout({ bucket, section = false, children }) {\n  const classes = useStyles()\n  const bucketExistenceData = useBucketExistence(bucket)\n  return (\n    <Layout\n      pre={\n        <>\n          <M.AppBar position=\"static\" className={classes.appBar}>\n            <BucketNav bucket={bucket} section={section} />\n          </M.AppBar>\n          <M.Container maxWidth=\"lg\">\n            {bucketExistenceData.case({\n              Ok: () => children,\n              Err: displayError(),\n              _: () => <Placeholder color=\"text.secondary\" />,\n            })}\n          </M.Container>\n        </>\n      }\n    />\n  )\n}\n\nexport default function Bucket({\n  location,\n  match: {\n    params: { bucket },\n  },\n}) {\n  const { paths } = NamedRoutes.use()\n  return (\n    <BucketPreferences.Provider bucket={bucket}>\n      <MetaTitle>{bucket}</MetaTitle>\n      <BucketLayout bucket={bucket} section={getBucketSection(paths)(location.pathname)}>\n        <CatchNotFound id={`${location.pathname}${location.search}${location.hash}`}>\n          <Switch>\n            <Route path={paths.bucketFile} component={File} exact strict />\n            <Route path={paths.bucketDir} component={Dir} exact />\n            <Route path={paths.bucketOverview} component={Overview} exact />\n            <Route path={paths.bucketSearch} component={Search} exact />\n            <Route path={paths.bucketPackageList} component={PackageList} exact />\n            <Route path={paths.bucketPackageDetail} component={PackageTree} exact />\n            <Route path={paths.bucketPackageTree} component={PackageTree} exact />\n            <Route\n              path={paths.bucketPackageRevisions}\n              component={PackageRevisions}\n              exact\n            />\n            <Route path={paths.bucketQueries} component={Queries} />\n            <Route component={ThrowNotFound} />\n          </Switch>\n        </CatchNotFound>\n      </BucketLayout>\n    </BucketPreferences.Provider>\n  )\n}\n"],"names":["module","exports","func","thisArg","args","length","call","apply","baseAssignValue","eq","hasOwnProperty","Object","prototype","object","key","value","objValue","undefined","isObject","isPrototype","nativeKeysIn","isProto","result","push","constant","defineProperty","identity","baseSetToString","string","arrayMap","props","assignValue","source","customizer","isNew","index","newValue","getPrototype","overArg","getPrototypeOf","isArrayLike","isIndex","type","nativeMax","Math","max","start","transform","arguments","array","Array","otherArgs","this","setToString","shortOut","nativeNow","Date","now","count","lastCalled","stamp","remaining","baseGetTag","isObjectLike","isPlainObject","tag","message","name","funcProto","Function","objectProto","funcToString","toString","objectCtorString","proto","Ctor","constructor","arrayLikeKeys","baseKeysIn","fn","lObj","rObj","k","lVal","rVal","mergeDeepWithKey","l","r","defaultPreferences","ui","actions","copyPackage","createPackage","deleteRevision","revisePackage","nav","files","packages","queries","sourceBuckets","getDefault","list","localModePreferences","bucketPreferencesValidator","S3_PREFIX","normalizeBucketName","input","startsWith","slice","parseSourceBuckets","sentry","keys","map","defaultSourceBucket","found","find","parse","bucketPreferencesYaml","data","yaml","errors","validate","BUCKET_PREFERENCES_PATH","fetchBucketPreferences","s3","bucket","local","requests","path","Body","console","log","error","Ctx","Provider","children","Config","mode","Sentry","AWS","S3","use","preferences","case","Ok","Err","_","getTitle","base","isArray","getTitleSegments","join","MetaTitle","useStyles","t","root","minHeight","spacing","minWidth","NavTab","classes","className","component","Link","useBucketNavSkeletonStyles","display","justifyContent","item","height","margin","width","BucketNavSkeleton","Skeleton","animate","section","urls","NamedRoutes","sm","breakpoints","down","centered","variant","scrollButtons","label","to","bucketOverview","bucketDir","bucketPackageList","bucketQueries","bucketSearch","BucketNav","BucketPreferences","helpText","mt","Error","headline","detail","SuspensePlaceholder","Placeholder","color","Dir","File","Overview","PackageList","PackageRevisions","PackageTree","Queries","Search","sections","overview","exact","tree","strict","search","getBucketSection","paths","cases","variants","concat","p","pathname","entries","opts","appBar","backgroundColor","palette","common","white","getContrastText","BucketLayout","bucketExistenceData","Layout","pre","position","maxWidth","Bucket","location","id","hash","bucketFile","bucketPackageDetail","bucketPackageTree","bucketPackageRevisions"],"sourceRoot":""}
"use strict";(self.webpackChunkquilt_navigator=self.webpackChunkquilt_navigator||[]).push([[3713],{7212:(e,n,a)=>{a.d(n,{Z:()=>c});var t=a(87462),i=a(67294),r=(a(45697),a(14670)),l=a(22318),o=i.forwardRef((function(e,n){return i.createElement(l.Z,(0,t.Z)({component:"p",variant:"body1",color:"textSecondary",ref:n},e))}));const c=(0,r.Z)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(o)},81860:(e,n,a)=>{a.d(n,{Z:()=>s});var t=a(87462),i=a(45987),r=a(67294),l=(a(45697),a(86010)),o=a(14670),c=r.forwardRef((function(e,n){var a=e.classes,o=e.className,c=(0,i.Z)(e,["classes","className"]);return r.createElement("div",(0,t.Z)({className:(0,l.Z)(a.root,o),ref:n},c))}));c.muiName="ListItemSecondaryAction";const s=(0,o.Z)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(c)},13713:(e,n,a)=>{a.r(n),a.d(n,{default:()=>on});var t=a(70655),i=a(26470),r=a(66518),l=a.n(r),o=a(67826),c=a(13646),s=a(13462),u=a(18549),m=a(36962),d=a(86458),k=a(67294),h=a(73727),p=a(5977),v=a(92432),g=a(41120),f=a(10529),b=a(95477),E=a(22318),y=a(282),N=a(17812),Z=a(92863),w=a(66869),S=a(78869),C=a(20740),F=a(24452),D=a(92549),T=a(43987),P=a(80679),x=a(99199),O=a(766),V=a(84268),_=a(27474),q=a(57156),R=a(69534),A=a(55743),B=a(23915),L=a(82268),M=a(36473),z=a(34314),$=a(62799),I=a(15592),W=a(64890),U=a(33125),j=a(25170),G=a(95142),J=a(66688),Y=a(66083),K=a(29525),H=a(66856),Q=a(84170),X=a(89007),ee=a(70397),ne=a(61542),ae=a(31708),te=a(79512),ie=a(45677),re=g.Z((function(e){return{meta:{marginTop:e.spacing(3)}}}));function le(e){var n=e.animate,a=re();return k.createElement(k.Fragment,null,k.createElement(te.H4,{animate:n}),k.createElement(te.H4,{animate:n}),k.createElement(te.BA,{className:a.meta,animate:n}),k.createElement(te.bF,{animate:n}))}function oe(e){var n=e.bucket,a=R.D$().urls;return k.createElement(Y.Z,null,"Push package to"," ",k.createElement(ee.Z,{target:"_blank",to:a.bucketOverview(n)},n)," ","bucket")}var ce=g.Z((function(e){return{form:{display:"flex",flexDirection:"column",height:"100%",overflowY:"auto"},meta:{display:"flex",flexDirection:"column",paddingTop:e.spacing(3),overflowY:"auto"}}}));function se(e){var n=this,a=e.bucket,i=e.close,r=e.hash,l=e.manifest,o=e.name,s=e.responseError,u=e.schema,m=e.schemaLoading,d=e.selectedWorkflow,h=e.setSubmitting,p=e.setSuccess,v=e.setWorkflow,g=e.successor,b=e.validate,N=e.workflowsConfig,w=te.Wk(d),S=te.OW(g.slug),C=k.useState(""),F=C[0],D=C[1],T=k.useState(0),P=T[0],x=T[1],O=ce(),V=te.qi(N),_=ie.D6(),q=function(e){var i=e.commitMessage,l=e.name,c=e.meta,s=e.workflow;return(0,t.mG)(n,void 0,void 0,(function(){var e,n,m;return(0,t.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,_({message:i,meta:c,source:{bucket:a,name:o,revision:r},target:{bucket:g.slug,name:l},workflow:s},u)];case 1:return e=t.sent(),p({name:l,hash:e.top_hash}),[3,3];case 2:return n=t.sent(),console.log("error creating manifest",n),[2,(m={},m[G.Ck]=n.message||te.RZ.MANIFEST,m)];case 3:return[2]}}))}))},R=k.useCallback((function(e){return(0,t.mG)(n,void 0,void 0,(function(){var n,a;return(0,t.Jh)(this,(function(t){switch(t.label){case 0:return[4,S.validate(e)];case 1:return n=t.sent(),(a=k.createElement(te.Nt,{exists:!!n}))!==F&&D(a),[2]}}))}))}),[F,S]),A=k.useState(),B=A[0],L=A[1],M=k.useMemo((function(){return new window.ResizeObserver((function(e){var n=e[0].contentRect.height;x(n)}))}),[x]),z=k.useState(!1),$=z[0],I=z[1],W=k.useCallback((function(e){var a=e.modified,i=e.values;return(0,t.mG)(n,void 0,void 0,(function(){return(0,t.Jh)(this,(function(e){return a.workflow&&i.workflow!==d&&(v(i.workflow),I(!0),setTimeout((function(){I(!1)}),300)),R(i.name),[2]}))}))}),[R,d,v]);k.useEffect((function(){return B&&M.observe(B),function(){B&&M.unobserve(B)}}),[B,M]);var U=te.cD({metaHeight:P});return k.createElement(J.l0,{onSubmit:function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return(0,t.mG)(n,void 0,void 0,(function(){return(0,t.Jh)(this,(function(n){switch(n.label){case 0:h(!0),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,q.apply(void 0,e)];case 2:return[2,n.sent()];case 3:return h(!1),[7];case 4:return[2]}}))}))},subscription:{error:!0,hasValidationErrors:!0,submitError:!0,submitFailed:!0,submitting:!0}},(function(e){var n=e.error,a=e.hasValidationErrors,t=e.submitError,r=e.submitFailed,h=e.submitting,p=e.handleSubmit;return k.createElement(k.Fragment,null,k.createElement(oe,{bucket:g.slug}),k.createElement(K.Z,{classes:U},k.createElement("form",{onSubmit:p,className:O.form},k.createElement(J.lP,{subscription:{modified:!0,values:!0},onChange:W}),k.createElement(J.lP,{subscription:{modified:!0,values:!0},onChange:function(e){var n=e.modified,a=e.values;n.workflow&&v(a.workflow)}}),k.createElement(J.gN,{component:te.Wr,name:"workflow",workflowsConfig:N,initialValue:d,validate:V,validateFields:["meta","workflow"],errors:{required:"Workflow is required for this bucket."}}),k.createElement(J.gN,{component:te.rr,name:"name",workflow:d||N,validate:ae.ne(ae.C1,w.validate),validateFields:["name"],errors:{required:"Enter a package name",invalid:"Invalid package name",pattern:"Name should match "+(null==d?void 0:d.packageNamePattern)},helperText:F,initialValue:o}),k.createElement(J.gN,{component:te.WZ,name:"commitMessage",validate:ae.C1,validateFields:["commitMessage"],errors:{required:"Enter a commit message"}}),m||$?k.createElement(te.BA,{className:O.meta,ref:L}):k.createElement(J.gN,{className:O.meta,component:te.fc,name:"meta",bucket:g.slug,schema:u,schemaError:s,validate:b,validateFields:["meta"],isEqual:c.Z,ref:L,initialValue:l.meta}),k.createElement("input",{type:"submit",style:{display:"none"}}))),k.createElement(H.Z,null,h&&k.createElement(te.RY,null,g.copyData?"Copying files and writing manifest":"Writing manifest"),!h&&(!!n||!!t)&&k.createElement(f.Z,{flexGrow:1,display:"flex",alignItems:"center",pl:2},k.createElement(Z.Z,{color:"error"},"error_outline"),k.createElement(f.Z,{pl:1}),k.createElement(E.Z,{variant:"body2",color:"error"},n||t)),k.createElement(y.Z,{onClick:i,disabled:h},"Cancel"),k.createElement(y.Z,{onClick:p,variant:"contained",color:"primary",disabled:h||r&&a},"Push")))}))}function ue(e){var n=e.bucket,a=e.error,t=e.onCancel,i=R.D$().urls;return k.createElement(te.Ss,{error:a,skeletonElement:k.createElement(le,{animate:!1}),title:k.createElement(k.Fragment,null,"Push package to"," ",k.createElement(ee.Z,{target:"_blank",to:i.bucketOverview(n)},n)," ","bucket"),onCancel:t})}function me(e){var n=e.bucket,a=e.onCancel,t=R.D$().urls;return k.createElement(te.HI,{skeletonElement:k.createElement(le,null),title:k.createElement(k.Fragment,null,"Push package to"," ",k.createElement(ee.Z,{target:"_blank",to:t.bucketOverview(n)},n)," ","bucket"),onCancel:a})}var de=(0,ne.Z)(["Loading","Error","Form","Success"]);function ke(e){var n=e.open,a=e.bucket,i=e.successor,r=e.name,l=e.hash,o=e.onExited,c=e.onClose,s=P.S3.use(),u=k.useState(!1),m=u[0],d=u[1],h=k.useState(!1),p=h[0],v=h[1],g=k.useState(null),f=g[0],b=g[1],E=V.D$(ie.UG,{s3:s,bucket:a,name:r,hash:l},{noAutoFetch:!i||!n}),y=V.D$(ie.sq,{s3:s,bucket:i?i.slug:""},{noAutoFetch:!i||!n}),N=k.useMemo((function(){return m?de.Success(m):y.case({Ok:function(e){return E.case({Ok:function(n){return de.Form({manifest:n,workflowsConfig:e})},Err:de.Error,_:de.Loading})},Err:de.Error,_:de.Loading})}),[m,y,E]),Z=k.useCallback((function(e){return de.case(e,N)}),[N]),w=k.useCallback((function(){p||(o({pushed:m}),c&&c(),d(null))}),[p,m,d,c,o]),S=k.useCallback((function(){p||(o({pushed:m}),c&&c(),d(null))}),[p,m,d,c,o]);return X.r3(n),k.createElement(Q.Z,{fullWidth:!0,onClose:S,onExited:w,open:n,scroll:"body"},Z({Error:function(e){return i&&k.createElement(ue,{bucket:i.slug,onCancel:S,error:e})},Loading:function(){return i&&k.createElement(me,{bucket:i.slug,onCancel:S})},Form:function(e){var n=e.manifest,o=e.workflowsConfig;return i&&k.createElement(te.ux,{manifest:n,workflowsConfig:o,workflow:f},(function(e){return k.createElement(se,(0,t.pi)({},e,{bucket:a,close:S,setSubmitting:v,setSuccess:d,setWorkflow:b,workflowsConfig:o,hash:l,manifest:n,name:r,successor:i}))}))},Success:function(e){return i&&k.createElement(te.wx,{bucket:i.slug,name:e.name,hash:e.hash,onClose:S})}}))}var he=a(7212),pe=a(41810),ve=a(31733),ge=g.Z((function(e){return{danger:{color:e.palette.error.dark},lock:{alignItems:"center",background:"rgba(255,255,255,0.7)",border:"1px solid "+e.palette.action.disabled,borderRadius:e.shape.borderRadius,bottom:0,cursor:"not-allowed",display:"flex",flexDirection:"column",justifyContent:"center",left:0,position:"absolute",right:0,top:0},progressContainer:{display:"flex",position:"relative"}}}));function fe(e){var n=e.error,a=e.loading,t=e.onClose,i=e.onDelete,r=e.open,l=e.packageHandle,o=ge(),c=k.useCallback((function(){i(l)}),[l,i]),s=k.useCallback((function(){a||t()}),[a,t]);return k.createElement(Q.Z,{"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",open:r,onClose:s},k.createElement(Y.Z,{id:"alert-dialog-title"},"Really delete revision"," ",k.createElement(pe.Z,null,ve.zL(l.hash))," of"," ",k.createElement(pe.Z,null,l.name),"?"),k.createElement(K.Z,{id:"alert-dialog-description"},k.createElement(he.Z,null,"This package revision will be lost forever. Package deletion does not delete objects in the package, but it does delete all metadata and all records of the contents of this revision. Are you sure you want to delete it?"),n&&k.createElement(w.Z,{severity:"error"},n.message)),k.createElement(H.Z,null,k.createElement(y.Z,{onClick:s,color:"primary",autoFocus:!0,disabled:a},"Cancel"),k.createElement(y.Z,{onClick:c,className:o.danger,disabled:a},"Yes, delete it")),a&&k.createElement("div",{className:o.lock},k.createElement("div",{className:o.progressContainer},k.createElement(b.Z,{size:80,variant:"indeterminate"}))))}var be=a(89959),Ee=a(6709),ye=a(43141),Ne=a(73206),Ze=a(9982),we=a(64395),Se=g.Z({name:{wordBreak:"break-all"}});function Ce(e){var n=e.bucket,a=e.name,t=Se(),i=R.D$().urls,r=a.split("/"),l=r[0],o=r[1];return k.createElement("span",{className:t.name},k.createElement(ee.Z,{to:i.bucketPackageList(n,{filter:l+"/"})},l,"/"),k.createElement(ee.Z,{to:i.bucketPackageDetail(n,a)},o))}var Fe=a(94184),De=a.n(Fe),Te=a(90584),Pe=a(52387),xe=a(62822),Oe=a(50998),Ve=a(95757),_e=a(81860),qe=a(46869),Re=a(55517),Ae=a(67456),Be=a(9961),Le=g.Z((function(e){return{revision:(0,t.pi)((0,t.pi)({},ee.R),{alignItems:"center",display:"inline-flex"}),mono:{fontFamily:e.typography.monospace.fontFamily},line:{whiteSpace:"nowrap"},secondaryText:{display:"block",height:40,overflow:"hidden",textOverflow:"ellipsis"},list:{width:420}}}));function Me(e){var n=e.bucket,a=e.name,t=e.hash,i=e.hashOrTag,r=e.path,l=e.revisionListQuery,c=R.D$().urls,s=Ae.D$().push,u=Le(),m=k.useRef(null),d=k.useState(null),p=d[0],v=d[1],g=k.useState(!1),y=g[0],w=g[1],S=k.useCallback((function(){return w(!0)}),[]),C=k.useCallback((function(){return w(!1)}),[]),F=function(e){return""+window.origin+c.bucketPackageTree(n,a,e,r)},D=function(e,n){return function(a){a.preventDefault(),(0,Be.Z)(F(e),{container:(null==n?void 0:n.current)||void 0}),s("Canonical URI copied to clipboard")}};return k.createElement(k.Fragment,null,k.createElement("span",{className:u.revision,onClick:S,ref:v,title:i.length>10?i:void 0},o.Z(10,i)," ",k.createElement(Z.Z,null,"expand_more")),!!t&&k.createElement(N.Z,{size:"small",title:"Copy package revision's canonical catalog URI to the clipboard",href:F(t),onClick:D(t),style:{marginTop:-4,marginBottom:-4}},k.createElement(Z.Z,null,"link")),k.createElement(Pe.ZP,{open:y&&!!p,anchorEl:p,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},k.createElement(xe.Z,{className:u.list,ref:m},l.case({data:function(e){return e.package?e.package.revisions.page.map((function(e){return k.createElement(Oe.Z,{key:e.hash+":"+e.modified.valueOf(),button:!0,onClick:C,selected:e.hash===t,component:h.Link,to:c.bucketPackageTree(n,a,e.hash,r)},k.createElement(Ve.Z,{primary:Te.Z(e.modified,"MMMM do yyyy - h:mma"),secondary:k.createElement("span",{className:u.secondaryText},k.createElement("span",{className:u.line},e.message||k.createElement("i",null,"No message")),k.createElement("br",null),k.createElement("span",{className:De()(u.line,u.mono)},e.hash))}),k.createElement(_e.Z,null,k.createElement(N.Z,{title:"Copy package revision's canonical catalog URI to the clipboard",href:F(e.hash),onClick:D(e.hash,m)},k.createElement(Z.Z,null,"link"))))})):k.createElement(Oe.Z,null,k.createElement(Ve.Z,{primary:"No revisions found",secondary:"Looks like this package has been deleted"}))},error:function(){return k.createElement(Oe.Z,null,k.createElement(qe.Z,null,k.createElement(Z.Z,null,"error")),k.createElement(E.Z,{variant:"body1"},"Error fetching revisions"))},fetching:function(){return k.createElement(Oe.Z,null,k.createElement(qe.Z,null,k.createElement(b.Z,{size:24})),k.createElement(E.Z,{variant:"body1"},"Fetching revisions"))}}),k.createElement(Re.Z,null),k.createElement(Oe.Z,{button:!0,onClick:C,component:h.Link,to:c.bucketPackageRevisions(n,a)},k.createElement(f.Z,{textAlign:"center",width:"100%"},"Show all revisions")))))}var ze=a(38396),$e=a(85639);function Ie(e){var n=e.className,a=e.onDelete,t=k.useState(null),i=t[0],r=t[1],l=k.useCallback((function(e){r(e.target)}),[r]),o=k.useCallback((function(){r(null)}),[r]),c=k.useCallback((function(){a(),r(null)}),[a,r]);return k.createElement(k.Fragment,null,k.createElement(N.Z,{className:n,onClick:l,size:"small"},k.createElement(Z.Z,null,"more_vert")),k.createElement(ze.Z,{anchorEl:i,open:!!i,onClose:o},k.createElement($e.Z,{onClick:c},"Delete revision")))}var We={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"containers_Bucket_PackageTree_gql_Revision"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bucket"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hashOrTag"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"package"},arguments:[{kind:"Argument",name:{kind:"Name",value:"bucket"},value:{kind:"Variable",name:{kind:"Name",value:"bucket"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bucket"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"revision"},arguments:[{kind:"Argument",name:{kind:"Name",value:"hashOrTag"},value:{kind:"Variable",name:{kind:"Name",value:"hashOrTag"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hash"}}]}}]}}]}}]},Ue={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"containers_Bucket_PackageTree_gql_RevisionList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bucket"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"package"},arguments:[{kind:"Argument",name:{kind:"Name",value:"bucket"},value:{kind:"Variable",name:{kind:"Name",value:"bucket"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bucket"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"revisions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"page"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"perPage"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hash"}},{kind:"Field",name:{kind:"Name",value:"modified"}},{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]}}]},je={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"containers_Bucket_PackageTree_gql_Dir"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bucket"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"path"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"package"},arguments:[{kind:"Argument",name:{kind:"Name",value:"bucket"},value:{kind:"Variable",name:{kind:"Name",value:"bucket"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bucket"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"revision"},arguments:[{kind:"Argument",name:{kind:"Name",value:"hashOrTag"},value:{kind:"Variable",name:{kind:"Name",value:"hash"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hash"}},{kind:"Field",name:{kind:"Name",value:"dir"},arguments:[{kind:"Argument",name:{kind:"Name",value:"path"},value:{kind:"Variable",name:{kind:"Name",value:"path"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"}},{kind:"Field",name:{kind:"Name",value:"metadata"}},{kind:"Field",name:{kind:"Name",value:"children"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PackageFile"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"physicalKey"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PackageDir"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"}},{kind:"Field",name:{kind:"Name",value:"size"}}]}}]}}]}}]}}]}}]}}]},Ge={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"containers_Bucket_PackageTree_gql_File"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bucket"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"path"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"package"},arguments:[{kind:"Argument",name:{kind:"Name",value:"bucket"},value:{kind:"Variable",name:{kind:"Name",value:"bucket"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bucket"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"revision"},arguments:[{kind:"Argument",name:{kind:"Name",value:"hashOrTag"},value:{kind:"Variable",name:{kind:"Name",value:"hash"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hash"}},{kind:"Field",name:{kind:"Name",value:"file"},arguments:[{kind:"Argument",name:{kind:"Name",value:"path"},value:{kind:"Variable",name:{kind:"Name",value:"path"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"}},{kind:"Field",name:{kind:"Name",value:"metadata"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"physicalKey"}}]}}]}}]}}]}}]};function Je(e){var n=e.bucket,a=e.name,i=e.hash,r=e.hashOrTag,c=e.path,s=JSON.stringify(M.ge(a+"/"+c)),u="latest"===r?"":o.Z(10,i),m=u&&', top_hash="'+u+'"',d=u&&" --top-hash "+u,h=[{label:"Python",hl:"python",contents:l()(an||(an=(0,t.cy)(['\n        import quilt3\n        # browse\n        p = quilt3.Package.browse("','"',', registry="s3://','")\n        # download (be mindful of large packages)\n        quilt3.Package.install(',"",', registry="s3://','", dest=".")\n      '],['\n        import quilt3\n        # browse\n        p = quilt3.Package.browse("','"',', registry="s3://','")\n        # download (be mindful of large packages)\n        quilt3.Package.install(',"",', registry="s3://','", dest=".")\n      '])),a,m,n,s,m,n)},{label:"CLI",hl:"bash",contents:l()(tn||(tn=(0,t.cy)(["\n        quilt3 install ",""," --registry s3://"," --dest .\n      "],["\n        quilt3 install ",""," --registry s3://"," --dest .\n      "])),s,d,n)},{label:"URI",contents:A.Pz({bucket:n,name:a,hash:i,path:c})}];return k.createElement(I.Z,null,h)}var Ye=g.Z((function(e){var n;return{topBar:{alignItems:"flex-end",display:"flex",marginBottom:e.spacing(2),marginTop:e.spacing(.5)},crumbs:(0,t.pi)((0,t.pi)({},e.typography.body1),(n={maxWidth:"calc(100% - 160px)",overflowWrap:"break-word"},n[e.breakpoints.down("xs")]={maxWidth:"calc(100% - 40px)"},n)),spacer:{flexGrow:1}}}));function Ke(e){var n=e.crumbs,a=e.children,t=Ye();return k.createElement("div",{className:t.topBar},k.createElement("div",{className:t.crumbs,onCopy:S.Yn},(0,S.sY)(n)),k.createElement("div",{className:t.spacer}),a)}var He=g.Z((function(e){return{button:{flexShrink:0,marginBottom:"-3px",marginLeft:e.spacing(1),marginTop:"-3px"}}}));function Qe(e){var n,a,r,l,o,m,d,h,v,g=this,N=e.bucket,Z=e.name,w=e.hash,S=e.hashOrTag,C=e.path,F=e.crumbs,D=e.onRevisionPush,P=O.D$().noDownload,V=p.k6(),_=R.D$().urls,q=He(),A=(0,$.a)({query:je,variables:{bucket:N,name:Z,hash:w,path:M.ge(C)}}),L=k.useCallback((function(e){return _.bucketPackageTree(N,Z,S,e.logicalKey)}),[_,N,Z,S]),I=(0,be.s)({bucket:N,name:Z,hash:w,onExited:D}),G=k.useState(null),J=G[0],Y=G[1],K=k.useCallback((function(){Y(null)}),[Y]);(0,z.Z)({bucket:N,name:Z,hashOrTag:S},(function(e){c.Z({bucket:N,name:Z,hashOrTag:S},e)||I.close()}));var H=x.D$(),Q=k.useCallback((function(){V.push(_.bucketPackageList(N))}),[N,V,_]),X=k.useState({error:void 0,loading:!1,opened:!1}),ee=X[0],ne=X[1],ae=k.useCallback((function(){ne(s.Z("opened",!0))}),[]),te=k.useCallback((function(){ne(u.Z({error:void 0,opened:!1}))}),[]),re=ie.aY(),le=k.useCallback((function(){return(0,t.mG)(g,void 0,void 0,(function(){var e;return(0,t.Jh)(this,(function(n){switch(n.label){case 0:ne(s.Z("loading",!0)),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,re({source:{bucket:N,name:Z,hash:w}})];case 2:return n.sent(),ne(u.Z({opened:!1,loading:!1})),Q(),[3,4];case 3:return e=n.sent(),ne(u.Z({error:e,loading:!1})),[3,4];case 4:return[2]}}))}))}),[N,w,Z,re,Q,ne]),oe=k.useMemo((function(){return{bucket:N,name:Z,hash:w}}),[N,Z,w]);if(A.fetching||A.stale)return k.createElement(k.Fragment,null,k.createElement(Ke,{crumbs:F}),k.createElement(f.Z,{mt:2},k.createElement(b.Z,null)));var ce=null===(r=null===(a=null===(n=A.data)||void 0===n?void 0:n.package)||void 0===a?void 0:a.revision)||void 0===r?void 0:r.dir;if(!ce)return k.createElement(k.Fragment,null,k.createElement(Ke,{crumbs:F}),k.createElement(f.Z,{mt:4},k.createElement(E.Z,{variant:"h4",align:"center",gutterBottom:!0},"Error loading directory"),k.createElement(E.Z,{variant:"body1",align:"center"},"Seems like there's no such directory in this package")));var se=ce.children.map((function(e){switch(e.__typename){case"PackageFile":return{type:"file",name:(0,i.basename)(e.path),to:_.bucketPackageTree(N,Z,S,e.path),size:e.size};case"PackageDir":return{type:"dir",name:(0,i.basename)(e.path),to:_.bucketPackageTree(N,Z,S,M.P8(e.path)),size:e.size};default:return(0,B.Z)(e)}}));C&&se.unshift({type:"dir",name:"..",to:_.bucketPackageTree(N,Z,S,M.up(C))});var ue=ce.children.map((function(e){return"PackageFile"===e.__typename?(0,t.pi)((0,t.pi)({},M.UD(e.physicalKey)),{logicalKey:e.path}):null})).filter(Boolean),me=C?"package/"+N+"/"+Z+"/"+w+"/"+C:"package/"+N+"/"+Z+"/"+w;return k.createElement(k.Fragment,null,k.createElement(ke,{bucket:N,hash:w,name:Z,open:!!J,successor:J,onExited:K,onClose:void 0}),k.createElement(fe,{error:ee.error,open:ee.opened,packageHandle:oe,onClose:te,loading:ee.loading,onDelete:le}),I.element,k.createElement(Ke,{crumbs:F},(null===(o=null===(l=null==H?void 0:H.ui)||void 0===l?void 0:l.actions)||void 0===o?void 0:o.revisePackage)&&k.createElement(y.Z,{className:q.button,variant:"contained",color:"primary",size:"small",style:{marginTop:-3,marginBottom:-3,flexShrink:0},onClick:I.open},"Revise package"),(null===(d=null===(m=null==H?void 0:H.ui)||void 0===m?void 0:m.actions)||void 0===d?void 0:d.copyPackage)&&k.createElement(W.Z,{className:q.button,bucket:N,onChange:Y},"Push to bucket"),!P&&k.createElement(U.dN,{className:q.button,label:C?"Download sub-package":"Download package",suffix:me}),(null===(v=null===(h=null==H?void 0:H.ui)||void 0===h?void 0:h.actions)||void 0===v?void 0:v.deleteRevision)&&k.createElement(Ie,{className:q.button,onDelete:ae})),k.createElement(Je,(0,t.pi)({},(0,t.pi)((0,t.pi)({},oe),{hashOrTag:S,path:C}))),k.createElement(U.h_,{data:T.Z.Ok(ce.metadata)}),k.createElement(f.Z,{mt:2},k.createElement(j.ZP,{items:se}),k.createElement(ye.Z,{files:ue,mkUrl:L,packageHandle:oe})))}var Xe=g.Z((function(e){return{button:{marginLeft:e.spacing(2)}}}));function en(e){var n,a,i,r=e.bucket,l=e.mode,o=e.name,c=e.hash,s=e.hashOrTag,u=e.path,m=e.crumbs,d=P.S3.use(),h=O.D$().noDownload,v=p.k6(),g=R.D$().urls,y=Xe(),N=(0,$.a)({query:Ge,variables:{bucket:r,name:o,hash:c,path:u}}),Z=k.useMemo((function(){return{bucket:r,name:o,hash:c}}),[r,o,c]),w=(0,we.C)(u,l,Z),S=k.useCallback((function(e){v.push(g.bucketPackageTree(r,o,s,u,e.valueOf()))}),[r,v,o,u,s,g]),C=function(){return k.createElement(k.Fragment,null,k.createElement(Ke,{crumbs:m}),k.createElement(f.Z,{mt:2},k.createElement(b.Z,null)))},F=function(e,n){return k.createElement(k.Fragment,null,k.createElement(Ke,{crumbs:m}),k.createElement(f.Z,{mt:4},k.createElement(E.Z,{variant:"h4",align:"center",gutterBottom:!0},e),!!n&&k.createElement(E.Z,{variant:"body1",align:"center"},n)))};if(N.fetching||N.stale)return C();var x=null===(i=null===(a=null===(n=N.data)||void 0===n?void 0:n.package)||void 0===a?void 0:a.revision)||void 0===i?void 0:i.file;if(!x)return N.error&&console.error(N.error),F("Error loading file","Seems like there's no such file in this package");var _=(0,t.pi)((0,t.pi)({},M.UD(x.physicalKey)),{logicalKey:x.path});return k.createElement(V.ZP,{fetch:ie.cY,params:(0,t.pi)({s3:d},_)},T.Z.case({_:C,Err:function(e){return"Forbidden"===e.code?F("Access Denied","You don't have access to this object"):(console.error(e),F("Error loading file","Something went wrong"))},Ok:ie.NB.case({Exists:function(e){var n=e.archived,a=e.deleted;return k.createElement(k.Fragment,null,k.createElement(Ke,{crumbs:m},!!w.modes.length&&k.createElement(U.Us,{className:y.button,options:w.modes.map(we.D),value:(0,we.D)(w.mode),onChange:S}),!h&&!a&&!n&&k.createElement(U.o6,{className:y.button,handle:_})),k.createElement(Je,(0,t.pi)({},(0,t.pi)((0,t.pi)({},Z),{hashOrTag:s,path:u}))),k.createElement(U.h_,{data:T.Z.Ok(x.metadata)}),k.createElement(Ee.Z,{icon:"remove_red_eye",heading:"Preview",expandable:!1},function(e,n,a,i,r){var l=e.archived;return e.deleted?r(T.Z.Err(D.Mh.Deleted({handle:n}))):l?r(T.Z.Err(D.Mh.Archived({handle:n}))):D.zD((0,t.pi)((0,t.pi)({},n),{mode:a,packageHandle:i}),r)}({archived:n,deleted:a},_,w.mode,Z,(0,Ze.Z)(w.handlePreviewResult))))},_:function(){return F("No Such Object")}})}))}function nn(e){var n=e.bucket,a=e.name,i=e.hash,r=e.children,l=v.m8(),o=k.useCallback((function(e){return l.query(Ge,{bucket:n,name:a,hash:i,path:e}).toPromise().then((function(n){var a,i,r,l=null===(r=null===(i=null===(a=n.data)||void 0===a?void 0:a.package)||void 0===i?void 0:i.revision)||void 0===r?void 0:r.file;if(!l)throw n.error||new Error('Could not resolve logical key "'+e+'"');return(0,t.pi)((0,t.pi)({},M.UD(l.physicalKey)),{logicalKey:l.path,size:l.size})}))}),[l,n,a,i]);return k.createElement(_.zt,{value:o},r)}var an,tn,rn=g.Z({alertMsg:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}});function ln(e){var n=e.bucket,a=e.name,i=e.hashOrTag,r=e.hash,l=e.path,c=e.mode,s=e.resolvedFrom,u=e.revisionListQuery,p=e.refreshRevisionData,v=e.refreshRevisionListData,g=rn(),b=R.D$().urls,y=M.vb(l),C=k.useMemo((function(){var e=(0,t.ev)([{label:"ROOT",path:""}],M.tO(l),!0);return m.Z(S.$2.Sep(k.createElement(k.Fragment,null," / ")),e.map((function(e){var t=e.label,r=e.path;return S.$2.Segment({label:t,to:l===r?void 0:b.bucketPackageTree(n,a,i,r)})}))).concat(l.endsWith("/")?S.$2.Sep(k.createElement(k.Fragment,null," /")):[])}),[n,a,i,l,b]),F=k.useCallback((function(e){d.Z(["pushed","name"],a,e)&&(v(),"latest"===i&&p())}),[a,i,p,v]);return k.createElement(U.fC,null,k.createElement(q.Z,null,[a+"@"+o.Z(10,i)+"/"+l,n]),!!s&&k.createElement(f.Z,{mb:2},k.createElement(w.Z,{severity:"info",icon:!1,classes:{message:g.alertMsg},action:k.createElement(N.Z,{size:"small",color:"inherit",component:h.Link,to:b.bucketPackageTree(n,a,i,l)},k.createElement(Z.Z,{fontSize:"small"},"close"))},"Resolved from"," ",k.createElement(f.Z,{fontFamily:"monospace.fontFamily",fontWeight:"fontWeightBold",component:"span",title:s},s))),k.createElement(E.Z,{variant:"body1"},k.createElement(Ce,(0,t.pi)({},{bucket:n,name:a}))," @ ",k.createElement(Me,(0,t.pi)({},{hash:r,hashOrTag:i,bucket:n,name:a,path:l,revisionListQuery:u}))),r?k.createElement(nn,(0,t.pi)({},{bucket:n,name:a,hash:r}),y?k.createElement(Qe,(0,t.pi)({},{bucket:n,name:a,hash:r,path:l,hashOrTag:i,crumbs:C,onRevisionPush:F,key:r})):k.createElement(en,(0,t.pi)({},{bucket:n,mode:c,name:a,hash:r,hashOrTag:i,path:l,crumbs:C}))):k.createElement(k.Fragment,null,k.createElement(Ke,{crumbs:C}),k.createElement(f.Z,{mt:4},k.createElement(E.Z,{variant:"h4",align:"center",gutterBottom:!0},"Error resolving revision"),k.createElement(E.Z,{variant:"body1",align:"center"},"Revision"," ",k.createElement(f.Z,{component:"span",fontWeight:"fontWeightMedium"},'"'+i+'"')," ","could not be resolved."))))}function on(e){var n,a=e.match.params,i=a.bucket,r=a.name,l=a.revision,o=void 0===l?"latest":l,c=a.path,s=void 0===c?"":c,u=e.location,m=M.Jx(s),d=(0,L.Z)(u.search,!0),h=d.resolvedFrom,p=d.mode,v=(0,$.a)({query:We,variables:{bucket:i,name:r,hashOrTag:o}}),g=(0,$.a)({query:Ue,variables:{bucket:i,name:r},requestPolicy:"cache-and-network"}),b=k.useCallback((function(){v.run({requestPolicy:"network-only"})}),[v]),E=k.useCallback((function(){g.run({requestPolicy:"cache-and-network"})}),[g]);if(v.fetching||v.stale)return k.createElement(F.Z,{color:"text.secondary"});if(!v.data)return Ne.Sj()(v.error||new Error("no data"));if(!v.data.package)return k.createElement(C.Z,{headline:"No Such Package"},"Package named"," ",k.createElement(f.Z,{component:"span",fontWeight:"fontWeightMedium"},'"'+r+'"')," could not be found in this bucket.");var y=null===(n=v.data.package.revision)||void 0===n?void 0:n.hash;return k.createElement(ln,(0,t.pi)({},{bucket:i,name:r,hashOrTag:o,hash:y,path:m,mode:p,resolvedFrom:h,revisionListQuery:g,refreshRevisionData:b,refreshRevisionListData:E}))}},89959:(e,n,a)=>{a.d(n,{s:()=>d});var t=a(12880),i=a(97716),r=a(67294),l=a(80679),o=a(43987),c=a(99199),s=a(84268),u=a(79512),m=a(45677);function d(e){var n=e.bucket,a=e.name,d=e.hash,k=e.onExited,h=l.S3.use(),p=r.useState(1),v=p[0],g=p[1],f=r.useState(!1),b=f[0],E=f[1],y=s.D$(m.sq,{s3:h,bucket:n}),N=c.D$(),Z=s.D$(m.UG,{s3:h,bucket:n,name:a,hash:d,key:v},{noAutoFetch:!b}),w=r.useCallback((function(){E(!0)}),[E]),S=r.useCallback((function(){E(!1),g(t.Z)}),[E,g]),C=r.useMemo((function(){return y.case({Ok:function(e){return Z.case({Ok:function(n){return N?o.Z.Ok({manifest:n,workflowsConfig:e,sourceBuckets:N.ui.sourceBuckets}):o.Z.Pending()},_:i.Z})},_:i.Z})}),[y,Z,N]);return u.eh({bucket:n,data:C,fetch:w,name:a,onExited:k,refresh:S,ui:{resetFiles:"Undo changes",submit:"Push",successBrowse:"Browse",successTitle:"Push complete",successRenderMessage:function(e){var n=e.packageLink;return r.createElement(r.Fragment,null,"Package revision ",n," successfully created")},title:"Push package revision"}})}},64395:(e,n,a)=>{a.d(n,{C:()=>k,D:()=>d});var t=a(26470),i=a(67294),r=a(78013),l=a(43987),o=a(766),c=a(28238),s=c.SN({name:"Voila",persist:!0,fetch:function(e){return fetch(function(e){return e+"/voila/"}(e)).then((function(e){return e.ok})).catch((function(){return!1})).then((function(e){return e||console.debug("Voila is not supported by current stack"),e}))}});var u={json:"JSON",jupyter:"Jupyter",vega:"Vega",voila:"Voila"},m=function(e){return!!e&&!!e.match(/https:\/\/vega\.github\.io\/schema\/([\w-]+)\/([\w.-]+)\.json/)};function d(e){return e&&{toString:function(){return u[e]},valueOf:function(){return e}}}function k(e,n,a){var u,d=(u=o.D$().registryUrl,c.et(s,u,{suspend:!0})),k=i.useState(null),h=k[0],p=k[1],v=i.useCallback((function(e){!h&&l.Z.Ok.is(e)&&p(l.Z.Ok.unbox(e))}),[h,p]),g=i.useMemo((function(){switch((0,t.extname)(e)){case".ipynb":return a&&d?["jupyter","json","voila"]:["jupyter","json"];case".json":return r.B.case({Vega:function(e){var n;return m(null===(n=e.spec)||void 0===n?void 0:n.$schema)?["vega","json"]:[]},Json:function(e){var n;return m(null===(n=e.rendered)||void 0===n?void 0:n.$schema)?["vega","json"]:[]},_:function(){return[]},__:function(){return[]}},h);default:return[]}}),[e,a,h,d]),f=g.includes(n)?n:g[0]||null;return{modes:g,mode:f,handlePreviewResult:v}}},55743:(e,n,a)=>{a.d(n,{Qc:()=>s,Pz:()=>u});var t=a(70655),i=a(17673),r=a(8575),l=a(66115),o=a(45596),c=function(e){function n(n,a){return e.call(this,"Invalid package URI ("+a+"): "+n,{msg:n,uri:a})||this}return(0,t.ZT)(n,e),n.displayName="PackageUriError",n}(a(36155).G);function s(e){var n=(0,r.parse)(e);if("quilt+s3:"!==n.protocol)throw new c('unsupported protocol "'+n.protocol+'". "quilt+s3:" is currently the only supported protocol.',e);if(!n.slashes)throw new c("missing slashes between protocol and registry.",e);if(n.path)throw new c("non-bucket-root registries are not supported currently.",e);var a=n.host,t=(0,i.parse)((n.hash||"").replace("#",""));if(!t.package)throw new c('missing "package=" part.',e);if(Array.isArray(t.package))throw new c('"package=" specified multiple times.',e);var s=function(e,n){if(e.includes(":")&&e.includes("@"))throw new c('"package=" part may either contain ":" or "@".',n);if(e.includes(":")){var a=e.split(":"),t=a[0],i=a[1],r=a.slice(2);if(!t)throw new c('"package=" part must contain non-empty package name.',n);if(!i)throw new c('"package=" part: tag must not be empty.',n);if(r.length)throw new c('"package=" part may contain only one ":".',n);return{name:t,tag:i}}if(e.includes("@")){var l=e.split("@"),o=(t=l[0],l[1]);if(r=l.slice(2),!t)throw new c('"package=" part must contain non-empty package name.',n);if(!o)throw new c('"package=" part: hash must not be empty.',n);if(r.length)throw new c('"package=" part may contain only one "@".',n);return{name:t,hash:o}}return{name:e}}(t.package,e),u=s.name,m=s.hash,d=s.tag;if(Array.isArray(t.path))throw new c('"path=" specified multiple times.',e);var k=t.path?decodeURIComponent(t.path):void 0;return l.Z(o.Z,{bucket:a,name:u,hash:m,tag:d,path:k})}function u(e){var n=e.bucket,a=e.name,t=e.hash,i=e.tag,r=e.path;if(!n)throw new Error('PackageUri.stringify: missing "bucket"');if(!a)throw new Error('PackageUri.stringify: missing "name"');if(t&&i)throw new Error('PackageUri.stringify: can\'t have both "hash" and "tag"');var l=a;return t?l+="@"+t:i&&(l+=":"+i),"quilt+s3://"+n+"#package="+l+(r?"&path="+encodeURIComponent(r):"")}},62799:(e,n,a)=>{a.d(n,{a:()=>c,Z:()=>s});var t=a(70655),i=a(97716),r=a(92432),l=a(9001),o=function(e){return function(n){var a=n.data,t=n.error,i=n.fetching;return e.fetching?i():e.data?a(e.data,e.error):t(e.error)}};function c(e){var n=e.context,a=e.suspend,c=void 0!==a&&a,s=(0,t._T)(e,["context","suspend"]),u=(0,l.Z)((0,t.pi)({suspense:c},n),i.Z),m=r.aM((0,t.pi)((0,t.pi)({},s),{context:u})),d=m[0],k=m[1];return(0,l.Z)((0,t.pi)((0,t.pi)({},d),{run:k,case:(0,l.Z)(d,o)}),i.Z)}const s=c},64890:(e,n,a)=>{a.d(n,{Z:()=>F});var t=a(70655),i=a(10180),r=a(67294),l=a(8920),o=a(10529),c=a(85639),s=a(95757),u=a(38396),m=a(22318),d=a(63457),k=a(17812),h=a(92863),p=a(282),v=a(58365),g=a(80679),f=a(84268),b=a(70397),E=a(10327),y=a(73206),N=a(45677);function Z(){var e=l.Z();return r.createElement(o.Z,{minWidth:e.spacing(22)},r.createElement(c.Z,{disabled:!0},r.createElement(v.Z,{height:e.spacing(6),width:"100%"})),r.createElement(c.Z,{disabled:!0},r.createElement(v.Z,{height:e.spacing(6),width:"100%"})),r.createElement(c.Z,{disabled:!0},r.createElement(v.Z,{height:e.spacing(6),width:"100%"})))}var w=r.forwardRef((function(e,n){var a=e.item,t=e.onClick;return r.createElement(c.Z,{ref:n,onClick:r.useCallback((function(){return t(a)}),[a,t])},r.createElement(s.Z,{primary:a.name,secondary:a.url}))}));function S(e){var n=e.anchorEl,a=e.bucket,t=e.open,l=e.onChange,c=e.onClose,s=g.S3.use(),d=(0,f.et)(N.sq,{s3:s,bucket:a});return r.createElement(u.Z,{anchorEl:n,onClose:c,open:t},d.case({Ok:function(e){var n=e.successors;return n.length?n.map((function(e){return r.createElement(w,{key:e.slug,item:e,onClick:l})})):r.createElement(o.Z,{px:2,py:1},r.createElement(m.Z,{gutterBottom:!0},"Add or update a config.yml file to populate this menu."),r.createElement(m.Z,null,r.createElement(b.Z,{href:E.rx+"/advanced-usage/workflows#pushing-across-buckets-with-the-quilt-catalog",target:"_blank"},"Learn more"),"."))},_:function(){return r.createElement(Z,null)},Err:function(e){return r.createElement(o.Z,{px:2,py:1},r.createElement(m.Z,{gutterBottom:!0},"Error: ",r.createElement("code",null,e.message)),i.Z(y.rA,e)&&r.createElement(m.Z,null,"Please fix the workflows config according to"," ",r.createElement(b.Z,{href:E.rx+"/advanced-usage/workflows",target:"_blank"},"the documentation")))}}))}function C(e){var n=e.children,a=e.className,i=e.onClick,o=l.Z(),c={"aria-haspopup":"true",className:a,onClick:i,size:"small"};return d.Z(o.breakpoints.down("sm"))?r.createElement(k.Z,(0,t.pi)({edge:"end",title:n},c),r.createElement(h.Z,null,"exit_to_app")):r.createElement(p.Z,(0,t.pi)({variant:"outlined"},c),n)}function F(e){var n=e.bucket,a=e.className,t=e.children,i=e.onChange,l=r.useState(null),o=l[0],c=l[1],s=r.useCallback((function(e){return c(e.currentTarget)}),[c]),u=r.useCallback((function(e){i(e),c(null)}),[i,c]),m=r.useCallback((function(){return c(null)}),[c]);return r.createElement(r.Fragment,null,r.createElement(C,{className:a,onClick:s},t),r.createElement(S,{anchorEl:o,bucket:n,open:!!o,onChange:u,onClose:m}))}},9982:(e,n,a)=>{a.d(n,{Z:()=>m});var t=a(67294),i=a(11476),r=a(22318),l=a(95477),o=a(92549),c=i.Z("div")({textAlign:"center",width:"100%"}),s=function(e){var n=e.heading,a=e.body,i=e.action;return t.createElement(c,null,!!n&&t.createElement(r.Z,{variant:"h6",gutterBottom:!0},n),!!a&&t.createElement(r.Z,{variant:"body1",gutterBottom:!0},a),!!i&&i)},u=function(){return t.createElement(c,null,t.createElement(l.Z,null))};const m=function(e){return o.jf({renderMessage:s,renderProgress:u,onData:e})}}}]);
//# sourceMappingURL=3713.4d5dea302a75dbb52d2e.chunk.js.map
{"version":3,"file":"embed-debug-harness.c12dd27ff53519946156.js","mappings":"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","sources":["webpack://quilt-navigator/./node_modules/ramda/es/anyPass.js","webpack://quilt-navigator/./node_modules/ramda/es/omit.js","webpack://quilt-navigator/./node_modules/ramda/es/prepend.js","webpack://quilt-navigator/./node_modules/ramda/es/sum.js","webpack://quilt-navigator/./app/utils/wait.ts","webpack://quilt-navigator/./app/components/JsonDisplay/JsonDisplay.js","webpack://quilt-navigator/./app/embed/debug-harness.js"],"sourcesContent":["import _curry1 from \"./internal/_curry1.js\";\nimport curryN from \"./curryN.js\";\nimport max from \"./max.js\";\nimport pluck from \"./pluck.js\";\nimport reduce from \"./reduce.js\";\n/**\n * Takes a list of predicates and returns a predicate that returns true for a\n * given list of arguments if at least one of the provided predicates is\n * satisfied by those arguments.\n *\n * The function returned is a curried function whose arity matches that of the\n * highest-arity predicate.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Logic\n * @sig [(*... -> Boolean)] -> (*... -> Boolean)\n * @param {Array} predicates An array of predicates to check\n * @return {Function} The combined predicate\n * @see R.allPass\n * @example\n *\n *      const isClub = R.propEq('suit', '♣');\n *      const isSpade = R.propEq('suit', '♠');\n *      const isBlackCard = R.anyPass([isClub, isSpade]);\n *\n *      isBlackCard({rank: '10', suit: '♣'}); //=> true\n *      isBlackCard({rank: 'Q', suit: '♠'}); //=> true\n *      isBlackCard({rank: 'Q', suit: '♦'}); //=> false\n */\n\nvar anyPass =\n/*#__PURE__*/\n_curry1(function anyPass(preds) {\n  return curryN(reduce(max, 0, pluck('length', preds)), function () {\n    var idx = 0;\n    var len = preds.length;\n\n    while (idx < len) {\n      if (preds[idx].apply(this, arguments)) {\n        return true;\n      }\n\n      idx += 1;\n    }\n\n    return false;\n  });\n});\n\nexport default anyPass;","import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns a partial copy of an object omitting the keys specified.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig [String] -> {String: *} -> {String: *}\n * @param {Array} names an array of String property names to omit from the new object\n * @param {Object} obj The object to copy from\n * @return {Object} A new object with properties from `names` not on it.\n * @see R.pick\n * @example\n *\n *      R.omit(['a', 'd'], {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, c: 3}\n */\n\nvar omit =\n/*#__PURE__*/\n_curry2(function omit(names, obj) {\n  var result = {};\n  var index = {};\n  var idx = 0;\n  var len = names.length;\n\n  while (idx < len) {\n    index[names[idx]] = 1;\n    idx += 1;\n  }\n\n  for (var prop in obj) {\n    if (!index.hasOwnProperty(prop)) {\n      result[prop] = obj[prop];\n    }\n  }\n\n  return result;\n});\n\nexport default omit;","import _concat from \"./internal/_concat.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns a new list with the given element at the front, followed by the\n * contents of the list.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig a -> [a] -> [a]\n * @param {*} el The item to add to the head of the output list.\n * @param {Array} list The array to add to the tail of the output list.\n * @return {Array} A new array.\n * @see R.append\n * @example\n *\n *      R.prepend('fee', ['fi', 'fo', 'fum']); //=> ['fee', 'fi', 'fo', 'fum']\n */\n\nvar prepend =\n/*#__PURE__*/\n_curry2(function prepend(el, list) {\n  return _concat([el], list);\n});\n\nexport default prepend;","import add from \"./add.js\";\nimport reduce from \"./reduce.js\";\n/**\n * Adds together all the elements of a list.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Math\n * @sig [Number] -> Number\n * @param {Array} list An array of numbers\n * @return {Number} The sum of all the numbers in the list.\n * @see R.reduce\n * @example\n *\n *      R.sum([2,4,6,8,100,1]); //=> 121\n */\n\nvar sum =\n/*#__PURE__*/\nreduce(add, 0);\nexport default sum;","export default async function wait(timeout: number): Promise<void> {\n  return new Promise((resolve) => {\n    setTimeout(resolve, timeout)\n  })\n}\n","import cx from 'classnames'\nimport * as R from 'ramda'\nimport * as React from 'react'\nimport * as M from '@material-ui/core'\n\nimport useMemoEq from 'utils/useMemoEq'\nimport wait from 'utils/wait'\n\nconst useStyles = M.makeStyles((t) => ({\n  root: {\n    fontFamily: t.typography.monospace.fontFamily,\n    fontSize: t.typography.body2.fontSize,\n    overflow: 'auto',\n    whiteSpace: 'pre',\n    width: '100%',\n  },\n  more: {\n    color: t.palette.text.secondary,\n  },\n  flex: {\n    display: 'flex',\n  },\n  compoundInner: {\n    paddingLeft: t.spacing(2),\n  },\n  hidden: {\n    display: 'none',\n  },\n  iconBlank: {\n    paddingRight: t.spacing(2.5),\n  },\n  key: {\n    fontWeight: t.typography.fontWeightBold,\n  },\n}))\n\nconst IconBlank = ({ classes }) => <div className={classes.iconBlank} />\nconst IconExpand = () => <M.Icon fontSize=\"small\">chevron_right</M.Icon>\nconst IconCollapse = () => <M.Icon fontSize=\"small\">expand_more</M.Icon>\n\nconst useWaitingJsonRenderStyles = M.makeStyles((t) => ({\n  root: {\n    color: t.palette.text.secondary,\n    display: 'flex',\n    fontFamily: t.typography.monospace.fontFamily,\n    fontSize: t.typography.body2.fontSize,\n    marginLeft: t.spacing(2),\n  },\n}))\n\nconst WaitingJsonRender = () => {\n  const classes = useWaitingJsonRenderStyles()\n  return (\n    <span className={classes.root}>\n      <M.Icon fontSize=\"small\">hourglass_empty</M.Icon>rendering…\n    </span>\n  )\n}\n\nfunction Key({ children, classes }) {\n  return !!children && <div className={classes.key}>{children}: </div>\n}\n\nconst formatValue = R.cond([\n  [R.is(String), (s) => `\"${s}\"`],\n  [R.T, (v) => `${v}`],\n])\n\nfunction PrimitiveEntry({ name, value, topLevel = true, classes }) {\n  return (\n    <div className={classes.flex}>\n      {!topLevel && <IconBlank classes={classes} />}\n      <Key classes={classes}>{name}</Key>\n      <div>{formatValue(value)}</div>\n    </div>\n  )\n}\n\nconst SEP = ', '\nconst SEP_LEN = 2\nconst MORE_LEN = 4\nconst CHAR_W = 8.6\n\nfunction More({ keys, classes }) {\n  return (\n    <span className={classes.more}>\n      {'<'}&hellip;{keys}\n      {'>'}\n    </span>\n  )\n}\n\nconst join = (s1, s2) =>\n  s1 ? (\n    <>\n      {s1}\n      {SEP}\n      {s2}\n    </>\n  ) : (\n    s2\n  )\n\nfunction CompoundEntry({\n  name,\n  value,\n  topLevel = true,\n  defaultExpanded = false,\n  showKeysWhenCollapsed,\n  classes,\n}) {\n  const braces = Array.isArray(value) ? '[]' : '{}'\n  const entries = React.useMemo(() => Object.entries(value), [value])\n  const [stateExpanded, setExpanded] = React.useState(!!defaultExpanded)\n  const toggle = React.useCallback(() => setExpanded((e) => !e), [])\n  const empty = !entries.length\n  const expanded = !empty && stateExpanded\n\n  const renderCollapsed = React.useCallback(() => {\n    const availableSpace =\n      showKeysWhenCollapsed -\n      R.sum([\n        SEP_LEN,\n        MORE_LEN,\n        20 / CHAR_W, // icon / padding\n        name ? name.length + 2 : 0,\n        4, // braces + spaces\n      ])\n    if (availableSpace <= 0 || Array.isArray(value)) {\n      return <More keys={entries.length} classes={classes} />\n    }\n    return entries.reduce(\n      (acc, [k]) => {\n        if (acc.done) return acc\n        return acc.availableSpace < k.length\n          ? {\n              str: join(\n                acc.str,\n                <More keys={entries.length - acc.keys} classes={classes} />,\n              ),\n              done: true,\n            }\n          : {\n              str: join(acc.str, <span className={classes.key}>{k}</span>),\n              availableSpace: acc.availableSpace - k.length - (acc.str ? SEP_LEN : 0),\n              keys: acc.keys + 1,\n              done: false,\n            }\n      },\n      { str: null, availableSpace, keys: 0, done: false },\n    ).str\n  }, [classes, entries, name, showKeysWhenCollapsed, value])\n\n  return (\n    <div>\n      {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events */}\n      <div className={classes.flex} onClick={toggle}>\n        {/* TODO: use icon rotation like MUI ? */}\n        {empty ? ( // eslint-disable-line no-nested-ternary\n          !topLevel && <IconBlank classes={classes} />\n        ) : expanded ? (\n          <IconCollapse />\n        ) : (\n          <IconExpand />\n        )}\n        <Key classes={classes}>{name}</Key>\n        {braces[0]}\n        {!expanded && (\n          <>\n            {empty ? '' : <span> {renderCollapsed()} </span>}\n            {braces[1]}\n          </>\n        )}\n      </div>\n      {expanded && (\n        <React.Suspense\n          fallback={\n            <>\n              <WaitingJsonRender />\n              {braces[1]}\n            </>\n          }\n        >\n          <div className={cx(classes.compoundInner)}>\n            {entries.map(([k, v]) => (\n              <JsonDisplayInner\n                classes={classes}\n                key={k}\n                name={k}\n                value={v}\n                topLevel={false}\n                defaultExpanded={\n                  Number.isInteger(defaultExpanded) && defaultExpanded > 0\n                    ? defaultExpanded - 1\n                    : defaultExpanded\n                }\n                showKeysWhenCollapsed={showKeysWhenCollapsed - 20 / CHAR_W}\n              />\n            ))}\n            {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events */}\n            <div onClick={toggle}>{braces[1]}</div>\n          </div>\n        </React.Suspense>\n      )}\n    </div>\n  )\n}\n\nconst isPrimitive = R.anyPass([\n  R.is(String),\n  R.is(Number),\n  R.is(Boolean),\n  R.equals(null),\n  R.equals(undefined),\n])\n\nfunction useComponentOnNextTick(Component, props, optTimeout) {\n  return useMemoEq([Component, props], () =>\n    React.lazy(async () => {\n      await wait(optTimeout || 0)\n      return {\n        default: () => <Component {...props} />,\n      }\n    }),\n  )\n}\n\nfunction JsonDisplayInner(props) {\n  const Component = useComponentOnNextTick(\n    isPrimitive(props.value) ? PrimitiveEntry : CompoundEntry,\n    props,\n  )\n  return <Component />\n}\n\nfunction useCurrentBreakpointWidth() {\n  const t = M.useTheme()\n  return ['sm', 'md', 'lg'].reduce(\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    (acc, b) => (M.useMediaQuery(t.breakpoints.up(b)) ? t.breakpoints.width(b) : acc),\n    320, // min supproted width\n  )\n}\n\nexport default function JsonDisplay({\n  name,\n  value,\n  topLevel,\n  // true (expand all) | false (collapse all) | int (expand N levels deep)\n  defaultExpanded,\n  // true (show all keys) | false (dont show keys, just show their number) | int (max length of keys string to show, incl. commas and stuff) | 'auto' (calculate string length based on screen size)\n  showKeysWhenCollapsed = 'auto',\n  className,\n  ...props\n}) {\n  const classes = useStyles()\n  const currentBPWidth = useCurrentBreakpointWidth()\n  const computedKeys = React.useMemo(() => {\n    if (showKeysWhenCollapsed === true) return Number.POSITIVE_INFINITY\n    if (showKeysWhenCollapsed === false) return Number.POSITIVE_INFINITY\n    // 80 is the usual total padding\n    if (showKeysWhenCollapsed === 'auto') return (currentBPWidth - 80) / CHAR_W\n    return showKeysWhenCollapsed\n  }, [showKeysWhenCollapsed, currentBPWidth])\n\n  return (\n    <M.Box className={cx(className, classes.root)} {...props}>\n      <React.Suspense fallback={<WaitingJsonRender />}>\n        <JsonDisplayInner\n          {...{ name, value, topLevel, defaultExpanded, classes }}\n          showKeysWhenCollapsed={computedKeys}\n        />\n      </React.Suspense>\n    </M.Box>\n  )\n}\n","/* embed/debug-harness.js - debug tool for embedded browser */\nimport * as R from 'ramda'\nimport * as React from 'react'\nimport ReactDOM from 'react-dom'\nimport * as M from '@material-ui/core'\n\nimport 'sanitize.css' // side-effect: inject global css\n\nimport JsonDisplay from 'components/JsonDisplay'\nimport * as Layout from 'components/Layout'\nimport Placeholder from 'components/Placeholder'\nimport * as style from 'constants/style'\nimport * as Config from 'utils/Config'\nimport { createBoundary } from 'utils/ErrorBoundary'\nimport * as Okta from 'utils/Okta'\nimport * as Cache from 'utils/ResourceCache'\nimport * as Sentry from 'utils/Sentry'\nimport * as Store from 'utils/Store'\nimport mkSearch from 'utils/mkSearch'\nimport * as RT from 'utils/reactTools'\n\nimport WithGlobalStyles from '../global-styles'\n\nconst SRC = '/__embed'\nconst EMBED_ORIGIN = window.location.origin\nconst PARENT_ORIGIN = window.location.origin\nconst EVENT_SOURCE = 'quilt-embed'\n\nconst mkNonce = () => `${Math.random()}`\n\nfunction useField(init) {\n  const [value, set] = React.useState(init)\n  const onChange = React.useCallback(\n    (e) => {\n      set(e.target.value)\n    },\n    [set],\n  )\n  return { value, set, input: { value, onChange } }\n}\n\nfunction Embedder() {\n  const cfg = Config.useConfig()\n  const authenticate = Okta.use({ clientId: cfg.oktaClientId, baseUrl: cfg.oktaBaseUrl })\n\n  const iframeRef = React.useRef(null)\n\n  const [nonce, setNonce] = React.useState(mkNonce)\n\n  const src = `${SRC}${mkSearch({ nonce, origin: PARENT_ORIGIN })}`\n\n  const fields = {\n    credentials: useField('{}'),\n    bucket: useField(''),\n    path: useField(''),\n    scope: useField(''),\n    rest: useField('{}'),\n    route: useField(''),\n    newRoute: useField(''),\n  }\n\n  const [messages, setMessages] = React.useState([])\n\n  const logMessage = React.useCallback(\n    (direction, { type, ...contents }) => {\n      setMessages(R.prepend({ direction, type, contents, time: new Date() }))\n    },\n    [setMessages],\n  )\n\n  const initParams = React.useMemo(() => {\n    try {\n      return {\n        bucket: fields.bucket.value,\n        path: fields.path.value,\n        scope: fields.scope.value,\n        credentials: JSON.parse(fields.credentials.value),\n        route: fields.route.value,\n        ...JSON.parse(fields.rest.value || '{}'),\n      }\n    } catch (e) {\n      return e\n    }\n  }, [\n    fields.credentials.value,\n    fields.bucket.value,\n    fields.path.value,\n    fields.scope.value,\n    fields.rest.value,\n    fields.route.value,\n  ])\n\n  const getOktaCredentials = React.useCallback(async () => {\n    const token = await authenticate()\n    fields.credentials.set(JSON.stringify({ provider: 'okta', token }))\n  }, [authenticate, fields.credentials.set]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  const postMessage = React.useCallback(\n    (msg) => {\n      if (!iframeRef.current) return\n      const w = iframeRef.current.contentWindow\n      w.postMessage(msg, EMBED_ORIGIN)\n      logMessage('out', msg)\n    },\n    [iframeRef, logMessage],\n  )\n\n  const postInit = React.useCallback(() => {\n    if (initParams instanceof Error) return\n    postMessage({ type: 'init', ...initParams })\n  }, [postMessage, initParams])\n\n  const navigate = React.useCallback(() => {\n    postMessage({ type: 'navigate', route: fields.newRoute.value })\n  }, [postMessage, fields.newRoute.value])\n\n  const reloadIframe = React.useCallback(() => {\n    setNonce(mkNonce)\n    setMessages([])\n  }, [setNonce, setMessages])\n\n  const handleMessage = React.useCallback(\n    (e) => {\n      if (\n        e.source !== iframeRef.current.contentWindow ||\n        e.origin !== EMBED_ORIGIN ||\n        e.data.source !== EVENT_SOURCE ||\n        nonce !== e.data.nonce\n      )\n        return\n      logMessage('in', R.omit(['source', 'nonce'], e.data))\n    },\n    [iframeRef, logMessage, nonce],\n  )\n\n  React.useEffect(() => {\n    window.addEventListener('message', handleMessage)\n    return () => {\n      window.removeEventListener('message', handleMessage)\n    }\n  }, [handleMessage])\n\n  return (\n    <M.Box display=\"flex\" justifyContent=\"space-between\" p={2} maxHeight=\"100vh\">\n      <M.Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        flexGrow={1}\n        pr={2}\n        maxWidth={400}\n        overflow=\"auto\"\n      >\n        <M.Button variant=\"outlined\" onClick={getOktaCredentials}>\n          Get credentials from Okta\n        </M.Button>\n\n        <M.Box mt={2} />\n        <M.TextField\n          multiline\n          label=\"Credentials (JSON)\"\n          rowsMax={10}\n          fullWidth\n          {...fields.credentials.input}\n        />\n\n        <M.Box mt={2} />\n        <M.TextField label=\"Bucket\" fullWidth {...fields.bucket.input} />\n\n        <M.Box mt={2} />\n        <M.TextField label=\"Path\" fullWidth {...fields.path.input} />\n\n        <M.Box mt={2} />\n        <M.TextField label=\"Route\" fullWidth {...fields.route.input} />\n\n        <M.Box mt={2} />\n        <M.TextField label=\"Scope\" fullWidth {...fields.scope.input} />\n\n        <M.Box mt={2} />\n        <M.TextField\n          multiline\n          label=\"Extra params (JSON, merged with the rest)\"\n          rowsMax={10}\n          fullWidth\n          {...fields.rest.input}\n        />\n\n        <M.Box mt={2} />\n        <M.Button variant=\"outlined\" onClick={postInit}>\n          init\n        </M.Button>\n\n        <M.Box mt={1} />\n        <M.Button variant=\"outlined\" onClick={reloadIframe}>\n          reload iframe\n        </M.Button>\n\n        <M.Box mt={2}>\n          {initParams instanceof Error ? (\n            `${initParams}`\n          ) : (\n            <JsonDisplay name=\"init params\" value={initParams} defaultExpanded />\n          )}\n        </M.Box>\n\n        <M.Box mt={4} />\n        <M.Button variant=\"outlined\" onClick={navigate}>\n          navigate to\n        </M.Button>\n\n        <M.Box mt={2} />\n        <M.TextField label=\"New route\" fullWidth {...fields.newRoute.input} />\n      </M.Box>\n\n      <M.Box flexShrink={0}>\n        <iframe\n          title=\"embed\"\n          src={src}\n          width=\"900\"\n          height=\"600\"\n          ref={iframeRef}\n          style={{ border: '1px solid' }}\n        />\n\n        <M.Box mt={3}>\n          <M.Typography variant=\"h6\" gutterBottom>\n            Messages\n          </M.Typography>\n          {messages.map((m) => (\n            <M.Box key={m.time.toISOString()}>\n              <JsonDisplay\n                name={`[${m.time.toISOString()}] ${\n                  m.direction === 'in' ? '<==' : '==>'\n                } ${m.type}`}\n                value={m.contents}\n                color={\n                  // eslint-disable-next-line no-nested-ternary\n                  m.direction === 'in'\n                    ? m.type === 'error'\n                      ? 'error.main'\n                      : 'success.main'\n                    : undefined\n                }\n              />\n            </M.Box>\n          ))}\n        </M.Box>\n      </M.Box>\n    </M.Box>\n  )\n}\n\nconst ErrorBoundary = createBoundary(() => (/* error, info */) => (\n  <h1\n    style={{\n      alignItems: 'center',\n      color: '#fff',\n      display: 'flex',\n      height: '90vh',\n      justifyContent: 'center',\n      maxHeight: '600px',\n    }}\n  >\n    Something went wrong\n  </h1>\n))\n\nfunction App() {\n  return RT.nest(\n    ErrorBoundary,\n    [M.MuiThemeProvider, { theme: style.appTheme }],\n    WithGlobalStyles,\n    Layout.Root,\n    Sentry.Provider,\n    Store.Provider,\n    Cache.Provider,\n    [Config.Provider, { path: '/config.json' }],\n    [React.Suspense, { fallback: <Placeholder color=\"text.secondary\" /> }],\n    Embedder,\n  )\n}\n\nReactDOM.render(<App />, document.getElementById('app'))\n"],"names":["preds","idx","len","length","apply","this","arguments","names","obj","result","index","prop","hasOwnProperty","el","list","wait","timeout","Promise","resolve","setTimeout","useStyles","t","root","fontFamily","typography","monospace","fontSize","body2","overflow","whiteSpace","width","more","color","palette","text","secondary","flex","display","compoundInner","paddingLeft","spacing","hidden","iconBlank","paddingRight","key","fontWeight","fontWeightBold","IconBlank","classes","className","IconExpand","IconCollapse","useWaitingJsonRenderStyles","marginLeft","WaitingJsonRender","Key","children","formatValue","String","s","v","PrimitiveEntry","name","value","topLevel","More","keys","join","s1","s2","CompoundEntry","defaultExpanded","showKeysWhenCollapsed","braces","Array","isArray","entries","Object","stateExpanded","setExpanded","toggle","e","empty","expanded","renderCollapsed","availableSpace","reduce","acc","k","done","str","onClick","fallback","map","JsonDisplayInner","Number","isInteger","isPrimitive","Boolean","undefined","props","Component","optTimeout","useMemoEq","default","useComponentOnNextTick","JsonDisplay","currentBPWidth","b","breakpoints","up","computedKeys","POSITIVE_INFINITY","EMBED_ORIGIN","window","location","origin","PARENT_ORIGIN","mkNonce","Math","random","useField","init","set","onChange","target","input","Embedder","cfg","authenticate","clientId","oktaClientId","baseUrl","oktaBaseUrl","iframeRef","nonce","setNonce","src","fields","credentials","bucket","path","scope","rest","route","newRoute","messages","setMessages","logMessage","direction","type","contents","time","Date","initParams","JSON","parse","getOktaCredentials","token","stringify","provider","postMessage","msg","current","contentWindow","postInit","Error","navigate","reloadIframe","handleMessage","source","data","addEventListener","removeEventListener","justifyContent","p","maxHeight","flexDirection","flexGrow","pr","maxWidth","variant","mt","multiline","label","rowsMax","fullWidth","flexShrink","title","height","ref","style","border","gutterBottom","m","toISOString","ErrorBoundary","alignItems","theme","document","getElementById"],"sourceRoot":""}
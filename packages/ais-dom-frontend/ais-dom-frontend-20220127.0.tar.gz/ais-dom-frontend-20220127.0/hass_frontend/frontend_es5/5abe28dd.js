"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[20738],{23682:function(t,e,n){function r(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}n.d(e,{Z:function(){return r}})},90394:function(t,e,n){function r(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}n.d(e,{Z:function(){return r}})},59699:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(90394),o=n(39244),i=n(23682),u=36e5;function a(t,e){(0,i.Z)(2,arguments);var n=(0,r.Z)(e);return(0,o.Z)(t,n*u)}},39244:function(t,e,n){n.d(e,{Z:function(){return u}});var r=n(90394),o=n(34327),i=n(23682);function u(t,e){(0,i.Z)(2,arguments);var n=(0,o.Z)(t).getTime(),u=(0,r.Z)(e);return new Date(n+u)}},4535:function(t,e,n){n.d(e,{Z:function(){return f}});var r=n(34327);function o(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var i=n(59429),u=n(23682),a=864e5;function c(t,e){(0,u.Z)(2,arguments);var n=(0,i.Z)(t),r=(0,i.Z)(e),c=n.getTime()-o(n),s=r.getTime()-o(r);return Math.round((c-s)/a)}function s(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function f(t,e){(0,u.Z)(2,arguments);var n=(0,r.Z)(t),o=(0,r.Z)(e),i=s(n,o),a=Math.abs(c(n,o));n.setDate(n.getDate()-i*a);var f=Number(s(n,o)===-i),l=i*(a-f);return 0===l?0:l}},93752:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(34327),o=n(23682);function i(t){(0,o.Z)(1,arguments);var e=(0,r.Z)(t);return e.setHours(23,59,59,999),e}},70390:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(93752);function o(){return(0,r.Z)(Date.now())}},47538:function(t,e,n){function r(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r-1),o.setHours(23,59,59,999),o}n.d(e,{Z:function(){return r}})},59429:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(34327),o=n(23682);function i(t){(0,o.Z)(1,arguments);var e=(0,r.Z)(t);return e.setHours(0,0,0,0),e}},27088:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(59429);function o(){return(0,r.Z)(Date.now())}},83008:function(t,e,n){function r(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r-1),o.setHours(0,0,0,0),o}n.d(e,{Z:function(){return r}})},34327:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(23682);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t){(0,r.Z)(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"===o(t)&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},7323:function(t,e,n){n.d(e,{p:function(){return r}});var r=function(t,e){return t&&t.config.components.includes(e)}},33897:function(t,e,n){n.d(e,{q:function(){return o}});var r=n(58831),o=function(t){var e=[],n={};return Object.keys(t).forEach((function(o){var i=t[o];"group"===(0,r.M)(o)?e.push(i):n[o]=i})),e.forEach((function(t){return t.attributes.entity_id.forEach((function(t){delete n[t]}))})),{groups:e,ungrouped:n}}},34007:function(t,e,n){n.d(e,{N:function(){return r}});var r=function(t,e){if(t.toLowerCase().startsWith(e)){var n=t.substring(e.length);return o(n.substr(0,n.indexOf(" ")))?n:n[0].toUpperCase()+n.slice(1)}},o=function(t){return t.toLowerCase()!==t}},57066:function(t,e,n){n.d(e,{Lo:function(){return u},IO:function(){return a},qv:function(){return c},sG:function(){return l}});var r=n(97330),o=n(85415),i=n(38346),u=function(t,e){return t.callWS(Object.assign({type:"config/area_registry/create"},e))},a=function(t,e,n){return t.callWS(Object.assign({type:"config/area_registry/update",area_id:e},n))},c=function(t,e){return t.callWS({type:"config/area_registry/delete",area_id:e})},s=function(t){return t.sendMessagePromise({type:"config/area_registry/list"}).then((function(t){return t.sort((function(t,e){return(0,o.$)(t.name,e.name)}))}))},f=function(t,e){return t.subscribeEvents((0,i.D)((function(){return s(t).then((function(t){return e.setState(t,!0)}))}),500,!0),"area_registry_updated")},l=function(t,e){return(0,r.B)("_areaRegistry",s,f,t,e)}},57292:function(t,e,n){n.d(e,{jL:function(){return s},t1:function(){return f},_Y:function(){return l},q4:function(){return y},Wg:function(){return d}});var r=n(97330),o=n(91741),i=n(85415),u=n(38346);function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=function(t,e,n){return t.name_by_user||t.name||n&&function(t,e){var n,r=a(e||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value,u="string"==typeof i?i:i.entity_id,c=t.states[u];if(c)return(0,o.C)(c)}}catch(s){r.e(s)}finally{r.f()}}(e,n)||e.localize("ui.panel.config.devices.unnamed_device")},f=function(t,e,n){return t.callWS(Object.assign({type:"config/device_registry/update",device_id:e},n))},l=function(t){return t.sendMessagePromise({type:"config/device_registry/list"})},p=function(t,e){return t.subscribeEvents((0,u.D)((function(){return l(t).then((function(t){return e.setState(t,!0)}))}),500,!0),"device_registry_updated")},y=function(t,e){return(0,r.B)("_dr",l,p,t,e)},d=function(t){return t.sort((function(t,e){return(0,i.f)(t.name||"",e.name||"")}))}},65253:function(t,e,n){function r(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value}catch(s){return void n(s)}a.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var u=t.apply(e,n);function a(t){r(u,o,i,a,c,"next",t)}function c(t){r(u,o,i,a,c,"throw",t)}a(void 0)}))}}n.d(e,{Pb:function(){return i},CE:function(){return u},uh:function(){return a},r4:function(){return c},Nq:function(){return s},h8:function(){return f},fm:function(){return l},FH:function(){return p}});var i="system-admin",u="system-users",a=function(){var t=o(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS({type:"config/auth/list"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=o(regeneratorRuntime.mark((function t(e,n,r,o){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS({type:"config/auth/create",name:n,group_ids:r,local_only:o}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}(),s=function(){var t=o(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS(Object.assign({},r,{type:"config/auth/update",user_id:n})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),f=function(){var t=o(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS({type:"config/auth/delete",user_id:n}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),l=function(t){return t?t.trim().split(" ").slice(0,3).map((function(t){return t.substring(0,1)})).join(""):"?"},p=function(t,e,n){var r=[],o=function(e){return t.localize("ui.panel.config.users.".concat(e))};return e.is_owner&&r.push(["M12 2C6.47 2 2 6.5 2 12C2 17.5 6.5 22 12 22S22 17.5 22 12 17.5 2 12 2M12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4S20 7.58 20 12C20 16.42 16.42 20 12 20M8 14L7 8L10 10L12 7L14 10L17 8L16 14H8M8.56 16C8.22 16 8 15.78 8 15.44V15H16V15.44C16 15.78 15.78 16 15.44 16H8.56Z",o("is_owner")]),n&&e.system_generated&&r.push(["M11,7H15V9H11V11H13A2,2 0 0,1 15,13V15A2,2 0 0,1 13,17H9V15H13V13H11A2,2 0 0,1 9,11V9A2,2 0 0,1 11,7M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z",o("is_system")]),e.local_only&&r.push(["M12 20C7.6 20 4 16.4 4 12S7.6 4 12 4 20 7.6 20 12 16.4 20 12 20M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M11 14H13V17H16V12H18L12 7L6 12H8V17H11V14",o("is_local")]),e.is_active||r.push(["M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z",o("is_not_active")]),r}},23197:function(t,e,n){n.d(e,{VG:function(){return b},AP:function(){return w}});var r=n(58831),o=n(22311),i=n(91741),u=n(33897),a=n(34007),c=n(85415),s=n(5986),f=n(41499),l=n(65253);function p(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(c){a=!0,o=c}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}(t,e)||g(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=g(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function g(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v=new Set(["automation","configurator","device_tracker","geo_location","persistent_notification","script","sun","zone"]),m=new Set(["mobile_app"]),b=function t(e,n){var o,u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=[],s=[],l=n.title?"".concat(n.title," ").toLowerCase():void 0,p=[],g=d(e);try{for(g.s();!(o=g.n()).done;){var h=y(o.value,2),v=h[0],m=h[1],b=(0,r.M)(v);if("alarm_control_panel"===b){var w={type:"alarm-panel",entity:v};c.push(w)}else if("camera"===b){var _={type:"picture-entity",entity:v};c.push(_)}else if("climate"===b){var S={type:"thermostat",entity:v};c.push(S)}else if("humidifier"===b){var C={type:"humidifier",entity:v};c.push(C)}else if("media_player"===b){var A={type:"media-control",entity:v};c.push(A)}else if("plant"===b){var M={type:"plant-status",entity:v};c.push(M)}else if("weather"===b){var Z={type:"weather-forecast",entity:v,show_forecast:!1};c.push(Z)}else if(!u||"scene"!==b&&"script"!==b)if("sensor"===b&&(null==m?void 0:m.attributes.device_class)===f.A);else{var j=void 0,E=l&&m&&(j=(0,a.N)((0,i.C)(m),l))?{entity:v,name:j}:v;s.push(E)}else{var k={entity:v,show_icon:!0,show_name:!0},x=void 0;l&&m&&(x=(0,a.N)((0,i.C)(m),l))&&(k.name=x),p.push(k)}}}catch(H){g.e(H)}finally{g.f()}if(0===s.length&&p.length>0)return t(e,n,!1);if(s.length>0||p.length>0){var D=Object.assign({type:"entities",entities:s},n);p.length>0&&(D.footer={type:"buttons",entities:p}),c.unshift(D)}return c.length<2?c:[{type:"grid",square:!1,columns:1,cards:c}]},w=function(t,e,n,r,a,f){var g,h=function(t,e){var n={},r=new Set(e.filter((function(t){return t.entity_category||m.has(t.platform)})).map((function(t){return t.entity_id})));return Object.keys(t).forEach((function(e){var i=t[e];v.has((0,o.N)(i))||r.has(i.entity_id)||(n[e]=t[e])})),n}(r,n),w={};Object.keys(h).forEach((function(t){var e=h[t];e.attributes.order&&(w[t]=e.attributes.order)}));var _=function(t,e,n,r){var o,i=Object.assign({},r),u=[],a=d(t);try{var c=function(){var t,r=o.value,a=[],c=new Set(e.filter((function(t){return t.area_id===r.area_id})).map((function(t){return t.id}))),s=d(n);try{for(s.s();!(t=s.n()).done;){var f=t.value;(c.has(f.device_id)&&!f.area_id||f.area_id===r.area_id)&&f.entity_id in i&&(a.push(i[f.entity_id]),delete i[f.entity_id])}}catch(l){s.e(l)}finally{s.f()}a.length>0&&u.push([r,a])};for(a.s();!(o=a.n()).done;)c()}catch(s){a.e(s)}finally{a.f()}return{areasWithEntities:u,otherEntities:i}}(t,e,n,h),S=function(t,e,n,r,a,f){var p=(0,u.q)(a);p.groups.sort((function(t,e){return f[t.entity_id]-f[e.entity_id]}));var y={};Object.keys(p.ungrouped).forEach((function(t){var e=p.ungrouped[t],n=(0,o.N)(e);n in y||(y[n]=[]),y[n].push(e.entity_id)}));var g=[];if("person"in y){var h=[];if(1===y.person.length)g.push({type:"entities",entities:y.person});else{var v,m,w="",_=d(y.person);try{for(_.s();!(m=_.n()).done;){var S=m.value,C=a[S],A=C.attributes.entity_picture;if(!A){if(void 0===v){var M=getComputedStyle(document.body);v=encodeURIComponent(M.getPropertyValue("--light-primary-color").trim()),w=encodeURIComponent((M.getPropertyValue("--text-light-primary-color")||M.getPropertyValue("--primary-text-color")).trim())}var Z=(0,l.fm)(C.attributes.friendly_name||"");A="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' width='50' height='50' style='background-color:".concat(v,"'%3E%3Cg%3E%3Ctext font-family='roboto' x='50%25' y='50%25' text-anchor='middle' stroke='").concat(w,"' font-size='1.3em' dy='.3em'%3E").concat(Z,"%3C/text%3E%3C/g%3E%3C/svg%3E")}h.push({type:"picture-entity",entity:S,aspect_ratio:"1",show_name:!1,image:A})}}catch(E){_.e(E)}finally{_.f()}g.push({type:"grid",square:!0,columns:3,cards:h})}delete y.person}p.groups.forEach((function(t){g=g.concat(b(t.attributes.entity_id.map((function(t){return[t,a[t]]})),{title:(0,i.C)(t),show_header_toggle:"hidden"!==t.attributes.control}))})),Object.keys(y).sort().forEach((function(e){g=g.concat(b(y[e].sort((function(t,e){return(0,c.$)((0,i.C)(a[t]),(0,i.C)(a[e]))})).map((function(t){return[t,a[t]]})),{title:(0,s.Lh)(t,e)}))}));var j={path:e,title:n,cards:g};return r&&(j.icon=r),j}(a,"default_view","Home",undefined,_.otherEntities,w),C=[];if(_.areasWithEntities.forEach((function(t){var e=y(t,2),n=e[0],r=e[1];C.push.apply(C,p(b(r.map((function(t){return[t.entity_id,t]})),{title:n.name})))})),f){var A=f.energy_sources.find((function(t){return"grid"===t.type}));A&&A.flow_from.length>0&&C.push({title:a("ui.panel.lovelace.cards.energy.energy_distribution.title_today"),type:"energy-distribution",link_dashboard:!0})}return(g=S.cards).unshift.apply(g,C),S}},76478:function(t,e,n){n.r(e),n.d(e,{OriginalStatesStrategy:function(){return v}});var r=n(28101),o=n(7323),i=n(11950),u=n(57066),a=n(57292),c=n(55424),s=n(74186),f=n(23197);function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(c){a=!0,o=c}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value}catch(s){return void n(s)}a.done?e(c):Promise.resolve(c).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){y(i,r,o,u,a,"next",t)}function a(t){y(i,r,o,u,a,"throw",t)}u(void 0)}))}}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=!1,v=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,p,y,v;return e=t,n=null,p=[{key:"generateView",value:(v=d(regeneratorRuntime.mark((function t(e){var n,p,y,d,g,v,m,b,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e.hass).config.state!==r.UE){t.next=3;break}return t.abrupt("return",{cards:[{type:"starting"}]});case 3:if(!n.config.safe_mode){t.next=5;break}return t.abrupt("return",{cards:[{type:"safe-mode"}]});case 5:return h||(h=!0,(0,u.sG)(n.connection,(function(){})),(0,a.q4)(n.connection,(function(){})),(0,s.LM)(n.connection,(function(){}))),t.next=8,Promise.all([(0,i.l)(n.connection,u.sG),(0,i.l)(n.connection,a.q4),(0,i.l)(n.connection,s.LM),n.loadBackendTranslation("title"),(0,o.p)(n,"energy")?(0,c.ZC)(n).catch((function(){})):void 0]);case 8:return p=t.sent,y=l(p,5),d=y[0],g=y[1],v=y[2],m=y[3],b=y[4],w=(0,f.AP)(d,g,v,n.states,m,b),n.config.components.includes("geo_location")&&w&&w.cards&&w.cards.push({type:"map",geo_location_sources:["all"]}),0===w.cards.length&&w.cards.push({type:"empty-state"}),t.abrupt("return",w);case 19:case"end":return t.stop()}}),t)}))),function(t){return v.apply(this,arguments)})},{key:"generateDashboard",value:(y=d(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{title:e.hass.config.location_name,views:[{strategy:{type:"original-states"}}]});case 1:case"end":return t.stop()}}),t)}))),function(t){return y.apply(this,arguments)})}],n&&g(e.prototype,n),p&&g(e,p),t}()}}]);
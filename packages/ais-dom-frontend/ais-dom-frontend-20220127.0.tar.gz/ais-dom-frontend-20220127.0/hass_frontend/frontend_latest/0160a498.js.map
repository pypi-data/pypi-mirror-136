{"version":3,"file":"0160a498.js","mappings":";;;;;;;;;;;;;;;AAqFA;ACFA;;AAOA;AACA;;AALA;;;;;AAlEA","sources":["webpack://home-assistant-frontend/./node_modules/@polymer/paper-listbox/paper-listbox.js","webpack://home-assistant-frontend/./src/dialogs/more-info/controls/more-info-group.ts"],"sourcesContent":["/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/paper-styles/default-theme.js';\n\nimport {IronMenuBehavior} from '@polymer/iron-menu-behavior/iron-menu-behavior.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/**\nMaterial design:\n[Menus](https://www.google.com/design/spec/components/menus.html)\n\n`<paper-listbox>` implements an accessible listbox control with Material Design\nstyling. The focused item is highlighted, and the selected item has bolded text.\n\n    <paper-listbox>\n      <paper-item>Item 1</paper-item>\n      <paper-item>Item 2</paper-item>\n    </paper-listbox>\n\nAn initial selection can be specified with the `selected` attribute.\n\n    <paper-listbox selected=\"0\">\n      <paper-item>Item 1</paper-item>\n      <paper-item>Item 2</paper-item>\n    </paper-listbox>\n\nMake a multi-select listbox with the `multi` attribute. Items in a multi-select\nlistbox can be deselected, and multiple item can be selected.\n\n    <paper-listbox multi>\n      <paper-item>Item 1</paper-item>\n      <paper-item>Item 2</paper-item>\n    </paper-listbox>\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-listbox-background-color`   | Menu background color |\n`--primary-background-color`\n`--paper-listbox-color`              | Menu foreground color |\n`--primary-text-color`\n`--paper-listbox`                    | Mixin applied to the listbox | `{}`\n\n### Accessibility\n\n`<paper-listbox>` has `role=\"listbox\"` by default. A multi-select listbox will\nalso have `aria-multiselectable` set. It implements key bindings to navigate\nthrough the listbox with the up and down arrow keys, esc to exit the listbox,\nand enter to activate a listbox item. Typing the first letter of a listbox item\nwill also focus it.\n\n@group Paper Elements\n@element paper-listbox\n@demo demo/index.html\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        padding: 8px 0;\n\n        background: var(--paper-listbox-background-color, var(--primary-background-color));\n        color: var(--paper-listbox-color, var(--primary-text-color));\n\n        @apply --paper-listbox;\n      }\n    </style>\n\n    <slot></slot>\n`,\n\n  is: 'paper-listbox',\n  behaviors: [IronMenuBehavior],\n\n  /** @private */\n  hostAttributes: {role: 'listbox'}\n});\n","import { HassEntity } from \"home-assistant-js-websocket\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { property, state } from \"lit/decorators\";\nimport { dynamicElement } from \"../../../common/dom/dynamic-element-directive\";\nimport { computeStateDomain } from \"../../../common/entity/compute_state_domain\";\nimport { GroupEntity } from \"../../../data/group\";\nimport \"../../../state-summary/state-card-content\";\nimport { HomeAssistant } from \"../../../types\";\nimport {\n  domainMoreInfoType,\n  importMoreInfoControl,\n} from \"../state_more_info_control\";\n\nclass MoreInfoGroup extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property() public stateObj?: GroupEntity;\n\n  @state() private _groupDomainStateObj?: HassEntity;\n\n  @state() private _moreInfoType?: string;\n\n  protected updated(changedProperties: PropertyValues) {\n    if (\n      !this.hass ||\n      !this.stateObj ||\n      (!changedProperties.has(\"hass\") && !changedProperties.has(\"stateObj\"))\n    ) {\n      return;\n    }\n\n    const states = this.stateObj.attributes.entity_id\n      .map((entity_id) => this.hass.states[entity_id])\n      .filter((entityState) => entityState);\n\n    if (!states.length) {\n      this._groupDomainStateObj = undefined;\n      this._moreInfoType = undefined;\n      return;\n    }\n\n    const baseStateObj = states.find((s) => s.state === \"on\") || states[0];\n    const groupDomain = computeStateDomain(baseStateObj);\n\n    // Groups need to be filtered out or we'll show content of\n    // first child above the children of the current group\n    if (\n      groupDomain !== \"group\" &&\n      states.every(\n        (entityState) => groupDomain === computeStateDomain(entityState)\n      )\n    ) {\n      this._groupDomainStateObj = {\n        ...baseStateObj,\n        entity_id: this.stateObj.entity_id,\n        attributes: { ...baseStateObj.attributes },\n      };\n      const type = domainMoreInfoType(groupDomain);\n      importMoreInfoControl(type);\n      this._moreInfoType = type === \"hidden\" ? undefined : `more-info-${type}`;\n    } else {\n      this._groupDomainStateObj = undefined;\n      this._moreInfoType = undefined;\n    }\n  }\n\n  protected render(): TemplateResult {\n    if (!this.hass || !this.stateObj) {\n      return html``;\n    }\n    return html`${this._moreInfoType\n      ? dynamicElement(this._moreInfoType, {\n          hass: this.hass,\n          stateObj: this._groupDomainStateObj,\n        })\n      : \"\"}\n    ${this.stateObj.attributes.entity_id.map((entity_id) => {\n      const entityState = this.hass!.states[entity_id];\n      if (!entityState) {\n        return \"\";\n      }\n      return html`\n        <state-card-content\n          .stateObj=${entityState}\n          .hass=${this.hass}\n        ></state-card-content>\n      `;\n    })}`;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      state-card-content {\n        display: block;\n        margin-top: 8px;\n      }\n    `;\n  }\n}\n\ncustomElements.define(\"more-info-group\", MoreInfoGroup);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"more-info-group\": MoreInfoGroup;\n  }\n}\n"],"names":[],"sourceRoot":""}
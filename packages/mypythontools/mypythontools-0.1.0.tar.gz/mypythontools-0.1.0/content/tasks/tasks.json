{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Build app",
      "type": "shell",
      "command": "python",
      "args": ["${workspaceFolder}/utils/build_script.py"],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      }
    },
    {
      "label": "Hooks & push & deploy",
      "type": "shell",
      "command": "python",
      "args": [
        "${workspaceFolder}/utils/push_script.py",
        "--version",
        "${input:version}",
        "--commit_message",
        "${input:commit_message}",
        "--tag",
        "${input:tag}",
        "--tag_mesage",
        "${input:tag-message}"
      ],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      }
    }
  ],
  "inputs": [
    {
      "type": "promptString",
      "id": "version",
      "description": "Version in __init__.py will be overwritten. Version has to be in format like '1.0.3' three digits and two dots. If None, nothing will happen. If 'increment', than it will be updated by 0.0.1.",
      "default": "increment"
    },
    {
      "type": "promptString",
      "id": "commit_message",
      "description": "Git message for commit.",
      "default": "New commit"
    },
    {
      "type": "promptString",
      "id": "tag",
      "description": "Git tag. If '__version__' is used, then tag from version in __init__.py will be derived. E.g. 'v1.0.1' from '1.0.1'",
      "default": "__version__"
    },
    {
      "type": "promptString",
      "id": "tag-message",
      "description": "Git tag message.",
      "default": "New version"
    }
  ]
}
